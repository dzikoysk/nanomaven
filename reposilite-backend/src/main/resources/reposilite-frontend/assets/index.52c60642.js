var Pe=Object.defineProperty,qe=Object.defineProperties;var Be=Object.getOwnPropertyDescriptors;var me=Object.getOwnPropertySymbols;var De=Object.prototype.hasOwnProperty,He=Object.prototype.propertyIsEnumerable;var _e=(e,s,l)=>s in e?Pe(e,s,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[s]=l,U=(e,s)=>{for(var l in s||(s={}))De.call(s,l)&&_e(e,l,s[l]);if(me)for(var l of me(s))He.call(s,l)&&_e(e,l,s[l]);return e},ve=(e,s)=>qe(e,Be(s));import{a as ae,r as _,w as H,c as R,b as G,d as K,u as ke,e as Ue,f as B,o as i,g as u,h as a,i as m,j as p,t as C,k as w,n as le,l as pe,m as k,p as W,q as T,s as X,v as ee,x as we,E as Ie,y as Ce,z as Te,A as O,B as q,C as fe,D as Ne,F as ge,G as te,H as F,P as Se,I as A,J as P,K as ze,T as Fe,L as We,M as Ge,N as Ke,O as Ye,Q as Qe,R as se,S as Ze,U as Je,V as Xe,W as et,X as tt,Y as st,Z as ot}from"./vendor.a910c98e.js";const nt=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function l(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerpolicy&&(o.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?o.credentials="include":t.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(t){if(t.ep)return;t.ep=!0;const o=l(t);fetch(t.href,o)}};nt();function Y(){const e=!"{{REPOSILITE.BASE_PATH}}".includes("REPOSILITE.BASE_PATH"),s=e?"{{REPOSILITE.BASE_PATH}}":"/",l=e?"{{REPOSILITE.ID}}":"reposilite-repository",n=e?"{{REPOSILITE.TITLE}}":"Reposilite Repository",t=e?"{{REPOSILITE.DESCRIPTION}}":"Public Maven repository hosted through the Reposilite",o=e?"{{REPOSILITE.ORGANIZATION_WEBSITE}}":location.protocol+"//"+location.host+s,c=e?"{{REPOSILITE.ORGANIZATION_LOGO}}":"https://avatars.githubusercontent.com/u/75123628?s=200&v=4",r=e?"{{REPOSILITE.ICP_LICENSE}}":"\u56FDICP\u5907000000000\u53F7",d=window.location.protocol+"//"+location.host+s,h=d.endsWith("/")?d.slice(0,-1):d;return{available:e,basePath:s,id:l,title:n,description:t,organizationWebsite:o,organizationLogo:c,icpLicense:r,productionUrl:d,baseUrl:h}}const{baseUrl:at}=Y(),re=e=>at+e,je=(e,s)=>{const l=()=>e&&s?n(e,s):{},n=(r,d)=>({headers:{Authorization:`xBasic ${btoa(`${r}:${d}`)}`}}),t=(r,d)=>ae.get(re(r),U({},d||l())),o=(r,d,h)=>ae.put(re(r),d,{headers:U({"Content-Type":"text/plain"},(h||l()).headers)});return{auth:{me(){return t("/api/auth/me")}},console:{},maven:{content(r){return t(`/${r}`)},details(r){return t(`/api/maven/details/${r||""}`)},download(r){return t(`/${r}`,U({responseType:"blob"},l()))},deploy(r,d){return o(`/${r}`,d)}},settings:{content(r){return t(`/api/settings/content/${r}`)},updateContent(r,d){return o(`/api/settings/content/${r}`,d)}}}},D=_({name:localStorage.getItem("token-name")||"",secret:localStorage.getItem("token-secret")||""});H(()=>{localStorage.setItem("token-name",D.value.name),localStorage.setItem("token-secret",D.value.secret)});const Oe=(e,s)=>D.value={name:e,secret:s},Q=_(),lt=()=>{Q.value=void 0,Oe("","")},Me=(e,s)=>je(e,s).auth.me().then(l=>{Oe(e,s),Q.value=l.data}),rt=()=>Me(D.value.name,D.value.secret),it=R(()=>je(D.value.name,D.value.secret)),ct=R(()=>Q.value!==void 0),dt=R(()=>{var e,s;return(s=(e=Q.value)==null?void 0:e.permissions)==null?void 0:s.find(l=>l.identifier==="access-token:manager")});function E(){return{token:D,details:Q,login:Me,logout:lt,isLogged:ct,client:it,isManager:dt,initializeSession:rt}}const N=G({isDark:!1}),oe="dark-theme";function Ve(){return{theme:N,fetchTheme:()=>{localStorage.getItem(oe)===null?N.isDark=window.matchMedia("(prefers-color-scheme: dark)").matches:N.isDark=localStorage.getItem(oe)==="true"},toggleTheme:()=>{N.isDark=!N.isDark,localStorage.setItem(oe,N.isDark)}}}const ie=G({watchable:0,path:""}),ce=()=>ie.watchable++,{details:ut}=E();K(()=>ut.value,()=>ce());function Ee(){const e=ke();return K(()=>e.params.qualifier,s=>{ie.path=s,ce()},{immediate:!0}),{qualifier:ie,refreshQualifier:ce}}const pt={class:"min-h-screen dark:bg-black dark:text-white"},ht={key:0,class:"absolute h-8 pb-2 w-full text-center text-xs dark:bg-black dark:text-white"},mt={href:"https://beian.miit.gov.cn",target:"_blank"},_t={setup(e){const{title:s,description:l,icpLicense:n}=Y(),{theme:t,fetchTheme:o}=Ve(),{initializeSession:c}=E(),{qualifier:r}=Ee();return Ue({title:s,description:l}),o(),c().catch(()=>{}),(d,h)=>{const f=B("router-view");return i(),u("div",{class:le({dark:p(t).isDark})},[a("div",pt,[m(f,{class:"router-view-full",qualifier:p(r)},null,8,["qualifier"]),p(n)?(i(),u("div",ht,[a("a",mt,C(p(n)),1)])):w("",!0)])],2)}}};var L=(e,s)=>{const l=e.__vccOpts||e;for(const[n,t]of s)l[n]=t;return l};const vt={},ft={class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},gt=a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1),bt=[gt];function xt(e,s){return i(),u("svg",ft,bt)}var $t=L(vt,[["render",xt]]);const yt={class:"bg-gray-100 dark:bg-black"},kt={class:"container mx-auto flex flex-row <sm:flex-col <sm:items-center"},wt={class:"w-35 <sm:mb-2"},It=["src"],Ct={class:"flex flex-col justify-center px-10 <sm:px-0"},Tt={class:"<sm:text-center"},St={class:"flex flex-row py-2 <sm:justify-center"},jt=["href"],Ot={setup(e){const{description:s,organizationWebsite:l,organizationLogo:n}=Y();return(t,o)=>(i(),u("div",yt,[a("div",kt,[a("div",wt,[a("img",{class:"border-2 rounded-full dark:border-gray-700",src:p(n)},null,8,It)]),a("div",Ct,[a("div",Tt,C(p(s)),1),a("div",St,[m($t),a("a",{class:"px-3 text-gray-500",href:p(l)},C(p(l)),9,jt)])])])]))}},Mt={},Vt={class:"mx-2 py-1.5 rounded-full font-bold px-6 text-sm max-h-35px min-w-93px default-button"};function Et(e,s){return i(),u("div",Vt,[pe(e.$slots,"default")])}var be=L(Mt,[["render",Et]]);const Le=e=>(Ce("data-v-11581f94"),e=e(),Te(),e),Lt={id:"login-modal"},Rt={class:"relative border bg-white dark:bg-gray-900 border-gray-100 dark:border-black m-w-20 py-5 px-10 rounded-2xl shadow-xl text-center"},At=Le(()=>a("p",{class:"font-bold text-xl pb-4"},"Login with access token",-1)),Pt={class:"text-right mt-1"},qt=Le(()=>a("button",{class:"bg-gray-100 dark:bg-gray-800 py-2 my-3 rounded-md cursor-pointer"},"Sign in",-1)),Bt={inheritAttrs:!1},Dt=Object.assign(Bt,{setup(e){const{login:s}=E(),l=_(!1),n=_(""),t=_(""),o=()=>l.value=!1,c=(r,d)=>s(r,d).then(()=>T(`Dashboard accessed as ${r}`,{position:"bottom-right"})).then(()=>o()).catch(h=>T(`${h.response.status}: ${h.response.data.message}`,{type:"danger"}));return(r,d)=>(i(),u("div",Lt,[m(p(Ie),we({modelValue:l.value,"onUpdate:modelValue":d[5]||(d[5]=h=>l.value=h)},r.$attrs,{classes:"flex justify-center items-center"}),{default:k(()=>[a("div",Rt,[At,a("form",{class:"flex flex-col w-96 <sm:w-65",onSubmit:d[3]||(d[3]=W(h=>c(n.value,t.value),["prevent"]))},[X(a("input",{placeholder:"Name","onUpdate:modelValue":d[0]||(d[0]=h=>n.value=h),type:"text",class:"input"},null,512),[[ee,n.value]]),X(a("input",{placeholder:"Secret","onUpdate:modelValue":d[1]||(d[1]=h=>t.value=h),type:"password",class:"input"},null,512),[[ee,t.value]]),a("div",Pt,[a("button",{onClick:d[2]||(d[2]=h=>o()),class:"text-blue-400 text-xs"},"\u2190 Back to index")]),qt],32),a("button",{class:"absolute top-0 right-0 mt-5 mr-5",onClick:d[4]||(d[4]=h=>o())},"\u{1F5D9}")])]),_:1},16,["modelValue"]),a("div",{onClick:d[6]||(d[6]=h=>l.value=!0)},[pe(r.$slots,"button",{},void 0,!0)])]))}});var Ht=L(Dt,[["__scopeId","data-v-11581f94"]]);const Ut={},Nt={class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},zt=a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"},null,-1),Ft=[zt];function Wt(e,s){return i(),u("svg",Nt,Ft)}var Gt=L(Ut,[["render",Wt]]);const Kt={},Yt={class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Qt=a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"},null,-1),Zt=[Qt];function Jt(e,s){return i(),u("svg",Yt,Zt)}var Xt=L(Kt,[["render",Jt]]);const es={},ts={xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},ss=a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"},null,-1),os=[ss];function ns(e,s){return i(),u("svg",ts,os)}var as=L(es,[["render",ns]]);const ls={class:"flex flex-row <sm:max-w-100px <sm:flex-wrap <sm:flex-1 <sm:justify-end <sm:min-w-1/2"},rs={key:0,class:"pt-1.1 px-2 <sm:py-2 <sm:max-w-full <sm:truncate"},is=q(" Welcome "),cs={class:"font-bold underline"},ds=q(" Sign in "),us=q(" Logout "),ps={key:2,class:"hidden px-2.7 pt-0.8 mr-1.5 cursor-pointer rounded-full bg-white dark:bg-gray-900 max-h-35px <sm:block"},hs={setup(e){const{theme:s,toggleTheme:l}=Ve(),{token:n,isLogged:t,logout:o}=E();return(c,r)=>(i(),u("nav",ls,[p(t)?(i(),u("div",rs,[is,a("span",cs,C(p(n).name),1)])):w("",!0),m(Ht,null,{button:k(()=>[p(t)?w("",!0):(i(),O(be,{key:0},{default:k(()=>[ds]),_:1}))]),_:1}),p(t)?(i(),O(be,{key:1,onClick:r[0]||(r[0]=d=>p(o)()),class:"<sm:hidden"},{default:k(()=>[us]),_:1})):w("",!0),p(t)?(i(),u("div",ps,[m(as,{onClick:r[1]||(r[1]=d=>p(o)())})])):w("",!0),a("div",{class:"pl-2 pt-1.3 rounded-full max-h-35px default-button",onClick:r[2]||(r[2]=d=>p(l)())},[p(s).isDark?(i(),O(Xt,{key:0,class:"mr-1.9"})):(i(),O(Gt,{key:1,class:"mr-1.5"}))])]))}},ms={class:"bg-gray-100 dark:bg-black dark:text-white"},_s={class:"container mx-auto flex flex-row py-10 justify-between <sm:pb-2 <sm:pt-5 <sm:px-5 <sm:justify-start"},vs={class:"text-xl font-medium py-1 <sm:w-1/2"},fs={setup(e){const{title:s}=Y();return(l,n)=>{const t=B("router-link");return i(),u("header",ms,[a("div",_s,[a("h1",vs,[m(t,{to:"/"},{default:k(()=>[q(C(p(s)),1)]),_:1})]),m(hs,{class:"mt-0.5"})]),m(Ot,{class:"pt-2 pb-10 <sm:pb-4"})])}}},de=_(localStorage.getItem("reversedFileOrder")==="true");H(()=>localStorage.setItem("reversedFileOrder",de.value));const ue=_(localStorage.getItem("displayHashFiles")==="true");H(()=>localStorage.setItem("displayHashFiles",ue.value));function Re(){return{reversedFileOrder:de,displayHashFiles:ue,applyAdjustments:s=>{if(ue.value||(s=s.filter(l=>![".md5",".sha1",".sha256",".sha512"].some(n=>l.name.endsWith(n)))),de.value)try{s=s.sort((l,n)=>{const t=l.type==="DIRECTORY",o=n.type==="DIRECTORY";if(t&&o){const c=fe().exec(l.name)[0]||l.name,r=fe().exec(n.name)[0]||n.name;return Ne.rcompare(c,r)}return 0})}catch{}return s}}}const gs={},bs={class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},xs=a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"},null,-1),$s=[xs];function ys(e,s){return i(),u("svg",bs,$s)}var ks=L(gs,[["render",ys]]);const ws={id:"adjustments-modal"},Is={class:"relative border bg-white dark:bg-gray-900 border-gray-100 dark:border-black m-w-20 py-5 px-10 rounded-2xl shadow-xl text-center"},Cs=a("h1",{class:"font-bold pb-4"},"File browser adjustments",-1),Ts=a("hr",{class:""},null,-1),Ss={class:"flex justify-between pt-6"},js=a("p",{class:"pr-7"},"Sort files from newest to oldest",-1),Os={class:"flex justify-between pt-6"},Ms=a("p",{class:"pr-7"},[q(" Display hash files such as "),a("span",{class:"font-italic font-mono bg-gray-200 dark:bg-black px-2 py-0.5 m-2 rounded-lg"},".md5/.sha1/.sha256/.sha512")],-1),Vs={inheritAttrs:!1},Es=Object.assign(Vs,{setup(e){const{reversedFileOrder:s,displayHashFiles:l}=Re(),n=_(!1);return(t,o)=>(i(),u("div",ws,[m(p(Ie),we({modelValue:n.value,"onUpdate:modelValue":o[3]||(o[3]=c=>n.value=c)},t.$attrs,{classes:"flex justify-center iems-center"}),{default:k(()=>[a("div",Is,[a("div",null,[Cs,Ts,a("div",Ss,[js,m(p(ge),{modelValue:p(s),"onUpdate:modelValue":o[0]||(o[0]=c=>te(s)?s.value=c:null),class:"ml-10"},null,8,["modelValue"])]),a("div",Os,[Ms,m(p(ge),{modelValue:p(l),"onUpdate:modelValue":o[1]||(o[1]=c=>te(l)?l.value=c:null),class:"ml-10"},null,8,["modelValue"])])]),a("button",{class:"absolute top-0 right-0 mt-5 mr-9",onClick:o[2]||(o[2]=c=>n.value=!1)},"\u{1F5D9}")])]),_:1},16,["modelValue"]),a("div",{onClick:o[4]||(o[4]=c=>n.value=!0)},[pe(t.$slots,"button")])]))}});function Ls(){return{createSnippets:(s,l,n)=>[{name:"Maven",lang:"xml",snippet:`
<dependency>
  <groupId>${s}</groupId>
  <artifactId>${l}</artifactId>
  <version>${n}</version>
</dependency>`.trim()},{name:"Gradle Groovy",lang:"xml",snippet:`implementation "${s}:${l}:${n}"`},{name:"Gradle Kotlin",lang:"kotlin",snippet:`implementation("${s}:${l}:${n}")`},{name:"SBT",lang:"scala",snippet:`"${s}" %% "${l}" %% "${n}"`}]}}function Rs(){const{basePath:e,id:s,title:l}=Y();return{createRepositories:t=>{const o=R(()=>t.path.split("/")[0]),c=s+(t.path?`-${o.value}`:""),r=location.protocol+"//"+location.host+e+(e.endsWith("/")?"":"/")+(t.path?`${o.value}`:"{repository}");return[{name:"Maven",lang:"xml",snippet:`
<repository>
  <id>${c}</id>
  <name>${l}</name>
  <url>${r}</url>
</repository>`.trim()},{name:"Gradle Groovy",lang:"groovy",snippet:`maven {
    url "${r}"
}`.trim()},{name:"Gradle Kotlin",lang:"kotlin",snippet:`maven {
    url = uri("${r}")
}`},{name:"SBT",lang:"scala",snippet:`resolvers +=
  "${c}" 
     at "${r}"`}]}}}const As=new DOMParser;function Ps(){const e=t=>{var o,c;return(c=(o=t==null?void 0:t.getElementsByTagName("groupId")[0])==null?void 0:o.firstChild)==null?void 0:c.nodeValue},s=t=>{var o,c;return(c=(o=t==null?void 0:t.getElementsByTagName("artifactId")[0])==null?void 0:o.firstChild)==null?void 0:c.nodeValue},l=t=>{var o;return(o=[...t.querySelector("versioning versions").children].map(c=>c.firstChild.nodeValue))!=null?o:["{unknown}"]};return{parseMetadata:t=>{const o=As.parseFromString(t,"text/xml"),c=l(o);return{metadata:o,groupId:e(o),artifactId:s(o),versions:c}},groupId:e,artifactId:s,versions:l}}const qs={},Bs={class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Ds=a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"},null,-1),Hs=[Ds];function Us(e,s){return i(),u("svg",Bs,Hs)}var Ns=L(qs,[["render",Us]]);const zs={props:{configuration:{type:Object,required:!0}},setup(e){const s=e,l=R(()=>U({highlighter:n=>{var t;return F.highlight(n,(t=F.languages[s.configuration.lang])!=null?t:F.languages.js)}},s.configuration));return(n,t)=>(i(),O(p(Se),{class:"card-editor font-mono text-ssm absolute",modelValue:p(l).snippet,"onUpdate:modelValue":t[0]||(t[0]=o=>p(l).snippet=o),highlight:p(l).highlighter,readonly:"","line-numbers":""},null,8,["modelValue","highlight"]))}},Fs={},Ws={class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Gs=a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1),Ks=[Gs];function Ys(e,s){return i(),u("svg",Ws,Ks)}var Qs=L(Fs,[["render",Ys]]);const Zs={id:"card-menu",class:"flex mt-2 <sm:hidden"},Js=["onClick"],Xs={class:"hidden flex-col items-center mt-24px <sm:flex"},eo={class:"w-20px h-25px float-right m-auto flex items-center"},to={key:0,class:"rounded-lg w-full box-border p-2 bg-true-gray-100 dark:bg-dark-600"},so=["onClick"],oo={props:{configurations:{type:Object,required:!0}},emits:["selectTab"],setup(e,{emit:s}){const l=_(localStorage.getItem("card-tab")||"Maven");H(()=>{localStorage.setItem("card-tab",l.value),s("selectTab",l.value)});const n=o=>l.value=o.name,t=_(localStorage.getItem("dropdown-open")||!1);return H(()=>localStorage.setItem("dropdown-open",t.value)),(o,c)=>(i(),u("div",null,[a("div",Zs,[(i(!0),u(A,null,P(e.configurations,r=>(i(),u("div",{key:r.name,onClick:d=>n(r),class:le(["py-4 px-7 flex-grow text-center border-b-2 cursor-pointer border-transparent",{"!border-gray-800":r.name===l.value}])},C(r.name),11,Js))),128))]),a("div",Xs,[a("div",{class:"w-full box-border py-5px p-2 rounded-lg border-1 border-true-gray-200 dark:border-dark-300",onClick:c[0]||(c[0]=r=>t.value=!t.value)},[q(C(l.value)+" ",1),a("div",eo,[m(Qs)])]),t.value?w("",!0):(i(),u("ul",to,[(i(!0),u(A,null,P(e.configurations,r=>(i(),u("li",{key:r.name,onClick:d=>{o.selectTab(r),t.value=!t.value},class:le(["dropdown py-1",{hidden:r.name===l.value}])},C(r.name),11,so))),128))]))])]))}};const no={class:"bg-white dark:bg-gray-900 shadow-lg p-7 rounded-xl border-gray-100 dark:border-black"},ao={class:"flex flex-row justify-between"},lo={class:"font-bold flex items-center w-full"},ro=a("hr",{class:"dark:border-gray-800 <sm:hidden"},null,-1),io={class:"overflow-hidden"},co={props:{qualifier:{type:Object,required:!0}},setup(e){const s=e,l=_(""),n=_([]),{createRepositories:t}=Rs(),{createSnippets:o}=Ls(),{parseMetadata:c}=Ps(),{client:r}=E(),{copy:d,isSupported:h}=ze(),f=()=>{l.value="Repository details",n.value=t(s.qualifier)},I=(g,v)=>{l.value="Artifact details";const{groupId:x,artifactId:V,versions:b}=c(g),y=b[v?b.indexOf(v):b.length-1];n.value=o(x,V,y)};H(()=>{const g=s.qualifier.path,v=g.split("/");if(v.length==1&&v[0]==""){f();return}r.value.maven.content(`${g}/maven-metadata.xml`).then(x=>I(x.data)).catch(()=>{r.value.maven.content(`${g.substring(0,g.indexOf(v[v.length-1])-1)}/maven-metadata.xml`).then(x=>I(x.data,v[v.length-1])).catch(x=>{x.message!=="Request failed with status code 404"&&console.log(x),f()})})});const $=_(),M=_("slide-right");K($,(g,v)=>{const x=n.value.findIndex(b=>b.name===g),V=n.value.findIndex(b=>b.name===v);M.value=x-V<0?"slide-left":"slide-right"});const Z=async()=>{const{snippet:g}=n.value.find(v=>v.name===$.value);return await d(g),T("Snippet copied",{type:"info",timeout:"2000"})},S=g=>$.value=g;return(g,v)=>(i(),u("div",no,[a("div",ao,[a("h1",lo,[q(C(l.value)+" ",1),p(h)?(i(),u("span",{key:0,onClick:Z,class:"ml-auto cursor-pointer"},[m(Ns)])):w("",!0)])]),m(oo,{configurations:n.value,onSelectTab:S},null,8,["configurations"]),ro,a("div",io,[m(Fe,{name:M.value,mode:"out-in"},{default:k(()=>[(i(),u("div",{key:$.value,class:"h-29 relative mt-6 py-3 pl-1 mr-1 rounded-lg bg-gray-100 dark:bg-gray-800"},[(i(!0),u(A,null,P(n.value,x=>(i(),u(A,{key:x.name},[x.name===$.value?(i(),O(zs,{key:0,configuration:x},null,8,["configuration"])):w("",!0)],64))),128))]))]),_:1},8,["name"])])]))}},uo={class:""},po={class:"pb-3 font-semibold"},ho={class:"select-none"},mo=q(" Index of "),_o={class:"select-text"},vo={class:"hover:transition-colors hover:duration-200 hover:text-purple-500"},fo=a("span",{class:"font-normal text-xl text-gray-500 select-none"}," \u2934 ",-1),go={props:{parentPath:{type:String,required:!0}},setup(e){const s=ke(),l=R(()=>{const n=s.path.split("/");return n.map((t,o)=>({link:n.slice(0,o+1).join("/")||"/",name:o===n.length-1?t:t+"/"}))});return(n,t)=>{const o=B("router-link");return i(),u("div",uo,[a("p",po,[a("span",ho,[m(o,{to:"/"},{default:k(()=>[mo]),_:1})]),a("span",_o,[(i(!0),u(A,null,P(p(l),c=>(i(),O(o,{key:c.link,to:c.link},{default:k(()=>[a("span",vo,C(c.name),1)]),_:2},1032,["to"]))),128))]),m(o,{to:e.parentPath},{default:k(()=>[fo]),_:1},8,["to"])])])}}},bo={},xo={class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},$o=a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),yo=a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1),ko=[$o,yo];function wo(e,s){return i(),u("svg",xo,ko)}var Io=L(bo,[["render",wo]]);const Co={class:"browser-entry flex flex-row justify-between mb-1.5 py-3 rounded-full default-button"},To={class:"flex flex-row"},So={key:0,class:"text-xm px-6 pt-1.75"},jo={key:1,class:"text-xm px-6 pt-1.75"},Oo={class:"font-semibold"},Mo={key:0,class:"px-6 flex"},Vo=["title"],xe={props:{file:{type:Object,required:!0}},setup(e){const s=e,l=["application/xml","text/plain","text/xml","text/markdown","application/json"].some(t=>{var o;return((o=s.file)==null?void 0:o.contentType)==t}),n=t=>window.open(t);return(t,o)=>(i(),u("div",Co,[a("div",To,[e.file.type=="DIRECTORY"?(i(),u("div",So,"\u26AB")):(i(),u("div",jo,"\u26AA")),a("div",Oo,C(e.file.name),1)]),e.file.hasOwnProperty("contentLength")?(i(),u("div",Mo,[p(l)?(i(),u("div",{key:0,title:`Click to view ${e.file.name} file content in a new tab`},[m(Io,{id:"view-button",class:"px-1 mr-7 pt-0.4 rounded-full text-purple-300 hover:transition-colors hover:duration-200 hover:bg-gray-100 hover:dark:bg-gray-900",onClick:[o[0]||(o[0]=W(c=>n(`${t.$route.path}/${e.file.name}`),["left","prevent"])),o[1]||(o[1]=W(()=>{},["stop"]))]})],8,Vo)):w("",!0),a("div",null,C(p(We)(e.file.contentLength)),1)])):w("",!0)]))}},Eo={id:"browser-list",class:"pt-3"},Lo=["onClick","href"],Ro={key:0,class:"pl-2"},Ao=a("p",null,"Directory is empty",-1),Po=[Ao],qo={key:1,class:"pl-2"},Bo=a("p",null,"Directory not found",-1),Do=[Bo],Ho={props:{files:{type:Object,required:!0}},setup(e){const{client:s}=E(),l=(n,t)=>{s.value.maven.download(n.substring(1)+"/"+t).then(o=>Ge(o.data,t,o.headers["content-type"])).catch(o=>T(`Cannot download file - ${o.response.status}: ${o.response.data.message}`,{type:"danger"}))};return(n,t)=>{const o=B("router-link");return i(),u("div",Eo,[(i(!0),u(A,null,P(e.files.list,c=>(i(),u("div",{key:c},[c.type==="DIRECTORY"?(i(),O(o,{key:0,to:n.append(n.$route.path,c.name)},{default:k(()=>[m(xe,{file:c},null,8,["file"])]),_:2},1032,["to"])):(i(),u("a",{key:1,onClick:W(r=>l(n.$route.path,c.name),["left","prevent"]),href:`${n.$route.path}/${c.name}`,target:"_blank"},[m(xe,{file:c},null,8,["file"])],8,Lo))]))),128)),e.files.isEmpty?(i(),u("div",Ro,Po)):w("",!0),e.files.error?(i(),u("div",qo,Do)):w("",!0)])}}},Uo=e=>T(e,{type:"success"}),No=e=>T(e,{type:"danger"});const zo={id:"browser-upload"},Fo={class:"border border-dashed rounded-3xl mt-1.5 cursor-pointer bg-gray-50 border-gray-300 hover:transition-colors hover:duration-200 hover:bg-white dark:bg-black dark:border-gray-800 dark:hover:transition-colors dark:hover:duration-400 dark:hover:bg-gray-900"},Wo={class:"my-3 px-6"},Go={key:0,class:"flex"},Ko=a("span",{class:"text-xm pt-1.6"},"\u{1F7E3}",-1),Yo=a("span",{class:"font-bold px-5"},"Select files",-1),Qo=[Ko,Yo],Zo={key:1,class:"py-1"},Jo=a("p",{class:"font-bold"},"Selected files to deploy here",-1),Xo=[Jo],en={class:"-mt-2 pb-2"},tn=["onClick"],sn={class:"px-2"},on={key:0,class:"text-right"},nn=["onClick"],an=a("span",null,"Upload files ",-1),ln=a("span",{class:"font-bold text-purple-400"},"\u219D",-1),rn=[an,ln],cn={setup(e){const{client:s}=E(),{qualifier:l,refreshQualifier:n}=Ee(),t=_([]),o=r=>t.value=t.value.filter(d=>d!==r),c=()=>{t.value.forEach(r=>s.value.maven.deploy(`${l.path}/${r.name}`,r.file).then(()=>Uo(`File ${r.name} has been uploaded`)).then(()=>o(r)).catch(d=>No(`Cannot upload file ${r.name} - ${d.response.status}: ${d.response.data.message}`))),n()};return(r,d)=>(i(),u("div",zo,[a("div",Fo,[m(p(Ke),{class:"btn btn-primary flex text-left","post-action":"/upload/post",multiple:!0,drop:!0,"drop-directory":!0,modelValue:t.value,"onUpdate:modelValue":d[0]||(d[0]=h=>t.value=h),ref:"upload"},{default:k(()=>[a("div",Wo,[t.value.length==0?(i(),u("div",Go,Qo)):(i(),u("div",Zo,Xo))])]),_:1},8,["modelValue"]),a("div",en,[(i(!0),u(A,null,P(t.value,h=>(i(),u("div",{key:h.name,class:"pb-1 px-6"},[a("span",{class:"text-xs text-purple-400",onClick:f=>o(h)},"\u{1F5D9}",8,tn),a("span",sn,C(h.name),1)]))),128))])]),t.value.length>0?(i(),u("div",on,[a("button",{onClick:W(c,["prevent"]),class:"border text-sm py-1.5 h-9 px-4 mt-1.5 border-dashed rounded bg-gray-50 border-gray-400 hover:transition-colors hover:duration-200 hover:bg-purple-500 hover:text-white dark:bg-black dark:border-gray-700 dark:text-white dark:hover:transition-colors dark:hover:duration-200 dark:hover:bg-purple-700"},rn,8,nn)])):w("",!0)]))}},dn={class:"bg-gray-100"},un={class:"dark:bg-black"},pn={class:"container mx-auto relative min-h-320px mb-1.5"},hn={class:"lg:absolute pt-13 -top-5 right-8"},mn={class:"lg:max-w-2/5 xl:max-w-1/2"},_n={class:"flex justify-between pt-7 px-2"},vn={class:"w-9"},fn={class:"bg-white dark:bg-gray-900 pl-2 pt-1.3 pb-1 pr-2 cursor-pointer rounded-full default-button"},gn={props:{qualifier:{type:Object,required:!0}},setup(e){const s=e,l=_(""),n=_({}),{client:t,isManager:o}=E(),{applyAdjustments:c}=Re(),r=R(()=>ve(U({},n.value),{list:c([...n.value.list])}));return K(()=>s.qualifier.watchable,async()=>{n.value={list:[]};const d=s.qualifier.path;t.value.maven.details(d).then(f=>n.value={list:f.data.files}).then(()=>n.value.isEmpty=n.value.list.length==0).catch(f=>{T(`${f.response.status}: ${f.response.data.message}`,{type:"danger"}),n.value={list:[],error:!0}});const h=f=>(f.endsWith("/")?f.slice(0,-1):f).split("/").slice(0,-1).join("/")||"/";l.value=h(`/${d}`)},{immediate:!0}),(d,h)=>(i(),u("div",dn,[a("div",un,[a("div",pn,[a("div",hn,[m(co,{qualifier:e.qualifier},null,8,["qualifier"])]),a("div",mn,[a("div",_n,[m(go,{parentPath:l.value},null,8,["parentPath"]),m(Es,null,{button:k(()=>[a("div",vn,[a("div",fn,[m(ks,{class:"pr-0.9"})])])]),_:1})]),m(Ho,{files:p(r)},null,8,["files"]),p(o)?(i(),O(cn,{key:0})):w("",!0)])])])]))}};const bn={class:"container mx-auto py-10 px-15"},xn=a("div",null,[a("p",null,"Modify configuration shared between all instances."),a("p",null,[a("strong",null,"Remember"),q(": Configuration propagation can take up to 30 seconds on all instances")])],-1),$n=a("p",null,"Reset changes",-1),yn=[$n],kn=a("p",null,"Update and reload",-1),wn=[kn],In={class:"border-1 rounded p-4 dark:border-gray-700"},Cn={setup(e){const{client:s}=E(),l=d=>F.highlight(d,F.languages.js),n="configuration.shared.cdn",t=_(""),o=_(!1),c=()=>s.value.settings.content(n).then(d=>t.value=d.data.content).catch(d=>T(d,{type:"error"})),r=()=>s.value.settings.updateContent(n,t.value).then(()=>T("Configuration has been deployed, fetching...",{type:"info"})).then(()=>c()).then(()=>T("Configuration reloaded, refresh page to see changes",{type:"success"})).catch(d=>T(d,{type:"error"}));return c().then(()=>o.value=!0),(d,h)=>(i(),u("div",bn,[a("div",{class:"flex justify-between pb-5 flex-col xl:flex-row"},[xn,a("div",{id:"configuration-state",class:"flex flex-row pt-3 xl:pt-2"},[a("button",{onClick:c},yn),a("button",{onClick:r},wn)])]),a("div",In,[o.value?(i(),O(p(Se),{key:0,class:"configuration-editor font-mono text-xs",modelValue:t.value,"onUpdate:modelValue":h[0]||(h[0]=f=>t.value=f),highlight:l,"line-numbers":""},null,8,["modelValue"])):w("",!0)])]))}},Ae=["Other","Trace","Debug","Info","Warn","Error"],ne=G({}),$e=_(""),Tn=_(0),J=G([]),Sn=new Ye,jn=e=>{var s;return(s=Ae.find(l=>e.includes(`${l.toUpperCase()} | `)))!=null?s:"Other"},ye=e=>Sn.toHtml(e.replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll(" ","&nbsp;"));function On(){Ae.forEach(n=>{ne[n]={name:n,enabled:!0,count:R(()=>J.reduce((t,o)=>t+(o.level===n),0))}});const e=R(()=>J.filter(n=>n.message.toLowerCase().includes($e.value.toLowerCase())).filter(n=>ne[n.level].enabled));return{levels:ne,log:e,filter:$e,sanitizeMessage:ye,logMessage:n=>{J.push({id:Tn.value++,message:ye(n),level:jn(n)})},clearLog:()=>{J.length=0}}}const j=_(),z=_("");function Mn(){const e=re("/api/console/sock").replace("https","wss").replace("http","ws"),s=()=>{var S;return((S=j.value)==null?void 0:S.readyState)===WebSocket.OPEN},l=()=>{s()&&j.value.close()},n=_([""]),t=_(0),o=S=>{n.value[n.value.length-1]==""&&n.value.pop(),n.value.push(S),t.value=n.value.length-1},c=()=>{o(z.value),j.value.send(z.value),z.value=""},r=()=>h(-1),d=()=>h(1),h=S=>{const g=z.value,v=n.value,x=v.length-1;x===t.value&&v[x]!==g&&o(g),t.value=Math.max(0,Math.min(v.length-1,t.value+S)),z.value=n.value[t.value]},f=_(),I=_(),$=_(),M=_();return{connection:j,connect:S=>{try{j.value=new WebSocket(e),j.value.onopen=()=>{j.value.send(`Authorization:${S.name}:${S.secret}`),f==null||f.value()},j.value.onmessage=v=>{v.data!="keep-alive"&&(I==null||I.value(v.data))},j.value.onerror=v=>$==null?void 0:$.value(v),j.value.onclose=()=>M==null?void 0:M.value();const g=setInterval(()=>{var v;s()?(v=j==null?void 0:j.value)==null||v.send("keep-alive"):clearInterval(g)},1e3*5)}catch(g){$==null||$.value(g)}},close:l,onOpen:f,onMessage:I,onError:$,onClose:M,command:z,execute:c,previousCommand:r,nextCommand:d}}const Vn={class:"container mx-auto pt-10 px-15 pb-10 text-xs"},En={class:"flex text-sm flex-col xl:flex-row w-full py-2 justify-between"},Ln={class:"flex flex-row justify-around w-full xl:w-1/2 <md:flex-wrap"},Rn=["checked","onChange"],An={class:"pl-2 pr-4"},Pn={class:"bg-white dark:bg-gray-900 rounded-lg"},qn={id:"console",class:"overflow-scroll h-144 px-4 whitespace-pre-wrap font-mono text-xs"},Bn=["innerHTML"],Dn=a("hr",{class:"dark:border-dark-300"},null,-1),Hn={props:{selectedTab:{type:Object,required:!0}},setup(e){const s=e,{levels:l,log:n,logMessage:t,filter:o,clearLog:c}=On(),{onOpen:r,onMessage:d,onClose:h,onError:f,connect:I,close:$,command:M,execute:Z,previousCommand:S,nextCommand:g}=Mn();Qe(()=>$());const v=()=>{const V=document.getElementById("console");V.scrollTop=V.scrollHeight},x=()=>{r.value=()=>c(),d.value=b=>{t(b),Ze(()=>v())},f.value=b=>T(`${b||""}`,{type:"danger"}),h.value=()=>T("Connection with console has been lost",{type:"danger"}),T("Connecting to the remote console",{type:"info"});const{token:V}=E();I(V.value)};return K(()=>s.selectedTab.value,V=>V==="Console"?x():$(),{immediate:!0}),(V,b)=>(i(),u("div",Vn,[a("div",En,[X(a("input",{placeholder:"Filter","onUpdate:modelValue":b[0]||(b[0]=y=>te(o)?o.value=y:null),class:"w-full xl:w-1/2 mr-5 py-1 px-4 rounded-lg bg-white dark:bg-gray-900"},null,512),[[ee,p(o)]]),a("div",Ln,[(i(!0),u(A,null,P(p(l),y=>(i(),u("div",{key:y.name,class:"pt-1.9 xl:pt-0.8 font-sans whitespace-nowrap"},[a("input",{type:"checkbox",checked:y.enabled,onChange:Qn=>y.enabled=!y.enabled},null,40,Rn),a("span",An,C(y.name)+" ("+C(y.count)+")",1)]))),128))])]),a("div",Pn,[a("div",qn,[(i(!0),u(A,null,P(p(n),y=>(i(),u("p",{key:y.id,innerHTML:y.message,class:"whitespace-nowrap"},null,8,Bn))),128))]),Dn,X(a("input",{id:"consoleInput",placeholder:"Type command or '?' to get help",class:"w-full py-2 px-4 rounded-b-lg bg-white dark:bg-gray-900 dark:text-white","onUpdate:modelValue":b[1]||(b[1]=y=>te(M)?M.value=y:null),onKeyup:[b[2]||(b[2]=se(y=>p(Z)(),["enter"])),b[3]||(b[3]=se(y=>p(S)(),["up"])),b[4]||(b[4]=se(y=>p(g)(),["down"]))]},null,544),[[ee,p(M)]])])]))}};const Un=e=>(Ce("data-v-546f8039"),e=e(),Te(),e),Nn={class:"bg-gray-100 dark:bg-black"},zn={class:"container mx-auto <sm:px-0"},Fn=Un(()=>a("hr",{class:"dark:border-gray-700"},null,-1)),Wn={class:"overflow-auto"},Gn={props:{qualifier:{type:Object,required:!0}},setup(e){const{isManager:s}=E(),l=[{name:"Overview"},{name:"Console",manager:!0},{name:"Configuration",manager:!0}],n=G({value:localStorage.getItem("selectedTab")||"Overview"});H(()=>localStorage.setItem("selectedTab",n.value));const t=R(()=>l.filter(o=>!(o==null?void 0:o.manager)||s.value).map(o=>o.name));return(o,c)=>{const r=B("tab"),d=B("tabs"),h=B("tab-panel"),f=B("tab-panels");return i(),u("div",null,[m(fs),a("div",Nn,[a("div",zn,[m(d,{modelValue:p(n).value,"onUpdate:modelValue":c[0]||(c[0]=I=>p(n).value=I)},{default:k(()=>[(i(!0),u(A,null,P(p(t),(I,$)=>(i(),O(r,{class:"item font-normal",key:`menu${$}`,val:I,label:I,indicator:!0},null,8,["val","label"]))),128))]),_:1},8,["modelValue"])]),Fn,a("div",Wn,[m(f,{modelValue:p(n).value,"onUpdate:modelValue":c[1]||(c[1]=I=>p(n).value=I),animate:!0},{default:k(()=>[m(h,{val:"Overview"},{default:k(()=>[m(gn,{qualifier:e.qualifier,ref:""},null,8,["qualifier"])]),_:1}),p(s)?(i(),O(h,{key:0,val:"Console"},{default:k(()=>[m(Hn,{selectedTab:p(n)},null,8,["selectedTab"])]),_:1})):w("",!0),p(s)?(i(),O(h,{key:1,val:"Configuration"},{default:k(()=>[m(Cn,{selectedTab:p(n)},null,8,["selectedTab"])]),_:1})):w("",!0)]),_:1},8,["modelValue"])])])])}}};var Kn=L(Gn,[["__scopeId","data-v-546f8039"]]);const Yn=Je({history:Xe(),routes:[{path:"/:qualifier(.*)",name:"Index",component:Kn}]});const he=et(_t);he.config.globalProperties.append=(e,s)=>e+(e.endsWith("/")?"":"/")+s;he.config.globalProperties.drop=e=>(e.endsWith("/")?e.slice(0,-1):e).split("/").slice(0,-1).join("/");he.use(tt()).use(st,ae).use(ot).use(Yn).mount("#app");
