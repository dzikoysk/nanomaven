var qe=Object.defineProperty,Pe=Object.defineProperties;var Ne=Object.getOwnPropertyDescriptors;var me=Object.getOwnPropertySymbols;var Be=Object.prototype.hasOwnProperty,He=Object.prototype.propertyIsEnumerable;var ve=(e,s,l)=>s in e?qe(e,s,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[s]=l,U=(e,s)=>{for(var l in s||(s={}))Be.call(s,l)&&ve(e,l,s[l]);if(me)for(var l of me(s))He.call(s,l)&&ve(e,l,s[l]);return e},fe=(e,s)=>Pe(e,Ne(s));import{a as ae,r as v,w as H,c as R,b as G,d as K,u as ke,e as Ue,f as N,o as c,g as u,h as a,i as _,j as p,t as I,k as C,n as le,l as pe,m as w,p as W,q as T,s as X,v as ee,x as we,E as Ce,y as Ie,z as Te,A as O,B as P,C as ge,D as te,F,P as Se,G as A,H as q,I as De,T as ze,J as Fe,K as We,L as Ge,M as Ke,N as Qe,O as se,Q as Ye,R as Ze,S as Je,U as Xe,V as et,W as tt,X as st}from"./vendor.ed721fb1.js";const ot=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function l(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerpolicy&&(o.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?o.credentials="include":t.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(t){if(t.ep)return;t.ep=!0;const o=l(t);fetch(t.href,o)}};ot();function Q(){const e=!"{{REPOSILITE.BASE_PATH}}".includes("REPOSILITE.BASE_PATH"),s=e?"{{REPOSILITE.BASE_PATH}}":"/",l=e?"{{REPOSILITE.ID}}":"reposilite-repository",n=e?"{{REPOSILITE.TITLE}}":"Reposilite Repository",t=e?"{{REPOSILITE.DESCRIPTION}}":"Public Maven repository hosted through the Reposilite",o=e?"{{REPOSILITE.ORGANIZATION_WEBSITE}}":location.protocol+"//"+location.host+s,i=e?"{{REPOSILITE.ORGANIZATION_LOGO}}":"https://avatars.githubusercontent.com/u/75123628?s=200&v=4",r=e?"{{REPOSILITE.ICP_LICENSE}}":"\u56FDICP\u5907000000000\u53F7",d=window.location.protocol+"//"+location.host+s,h=d.endsWith("/")?d.slice(0,-1):d;return{available:e,basePath:s,id:l,title:n,description:t,organizationWebsite:o,organizationLogo:i,icpLicense:r,productionUrl:d,baseUrl:h}}const{baseUrl:nt}=Q(),re=e=>nt+e,je=(e,s)=>{const l=()=>e&&s?n(e,s):{},n=(r,d)=>({headers:{Authorization:`xBasic ${btoa(`${r}:${d}`)}`}}),t=(r,d)=>ae.get(re(r),U({},d||l())),o=(r,d,h)=>ae.put(re(r),d,{headers:U({"Content-Type":"text/plain"},(h||l()).headers)});return{auth:{me(){return t("/api/auth/me")}},console:{},maven:{content(r){return t(`/${r}`)},details(r){return t(`/api/maven/details/${r||""}`)},download(r){return t(`/${r}`,U({responseType:"blob"},l()))},deploy(r,d){return o(`/${r}`,d)}},settings:{content(r){return t(`/api/settings/content/${r}`)},updateContent(r,d){return o(`/api/settings/content/${r}`,d)}}}},B=v({name:localStorage.getItem("token-name")||"",secret:localStorage.getItem("token-secret")||""});H(()=>{localStorage.setItem("token-name",B.value.name),localStorage.setItem("token-secret",B.value.secret)});const Oe=(e,s)=>B.value={name:e,secret:s},Y=v(),at=()=>{Y.value=void 0,Oe("","")},Me=(e,s)=>je(e,s).auth.me().then(l=>{Oe(e,s),Y.value=l.data}),lt=()=>Me(B.value.name,B.value.secret),rt=R(()=>je(B.value.name,B.value.secret)),it=R(()=>Y.value!==void 0),ct=R(()=>{var e,s;return(s=(e=Y.value)==null?void 0:e.permissions)==null?void 0:s.find(l=>l.identifier==="access-token:manager")});function L(){return{token:B,details:Y,login:Me,logout:at,isLogged:it,client:rt,isManager:ct,initializeSession:lt}}const D=G({isDark:!1}),oe="dark-theme";function Ve(){return{theme:D,fetchTheme:()=>{localStorage.getItem(oe)===null?D.isDark=window.matchMedia("(prefers-color-scheme: dark)").matches:D.isDark=localStorage.getItem(oe)==="true"},toggleTheme:()=>{D.isDark=!D.isDark,localStorage.setItem(oe,D.isDark)}}}const ie=G({watchable:0,path:""}),ce=()=>ie.watchable++,{details:dt}=L();K(()=>dt.value,()=>ce());function Ee(){const e=ke();return K(()=>e.params.qualifier,s=>{ie.path=s,ce()},{immediate:!0}),{qualifier:ie,refreshQualifier:ce}}const ut={class:"min-h-screen dark:bg-black dark:text-white"},pt={key:0,class:"absolute h-8 pb-2 w-full text-center text-xs dark:bg-black dark:text-white"},ht={href:"https://beian.miit.gov.cn",target:"_blank"},_t={setup(e){const{title:s,description:l,icpLicense:n}=Q(),{theme:t,fetchTheme:o}=Ve(),{initializeSession:i}=L(),{qualifier:r}=Ee();return Ue({title:s,description:l}),o(),i().catch(()=>{}),(d,h)=>{const m=N("router-view");return c(),u("div",{class:le({dark:p(t).isDark})},[a("div",ut,[_(m,{class:"router-view-full",qualifier:p(r)},null,8,["qualifier"]),p(n)?(c(),u("div",pt,[a("a",ht,I(p(n)),1)])):C("",!0)])],2)}}};var M=(e,s)=>{const l=e.__vccOpts||e;for(const[n,t]of s)l[n]=t;return l};const mt={},vt={class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},ft=a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1),gt=[ft];function bt(e,s){return c(),u("svg",vt,gt)}var $t=M(mt,[["render",bt]]);const xt={class:"bg-gray-100 dark:bg-black"},yt={class:"container mx-auto flex flex-row <sm:flex-col <sm:items-center"},kt={class:"w-35 <sm:mb-2"},wt=["src"],Ct={class:"flex flex-col justify-center px-10 <sm:px-0"},It={class:"<sm:text-center"},Tt={class:"flex flex-row py-2 <sm:justify-center"},St=["href"],jt={setup(e){const{description:s,organizationWebsite:l,organizationLogo:n}=Q();return(t,o)=>(c(),u("div",xt,[a("div",yt,[a("div",kt,[a("img",{class:"border-2 rounded-full dark:border-gray-700",src:p(n)},null,8,wt)]),a("div",Ct,[a("div",It,I(p(s)),1),a("div",Tt,[_($t),a("a",{class:"px-3 text-gray-500",href:p(l)},I(p(l)),9,St)])])])]))}},Ot={},Mt={class:"mx-2 py-1.5 rounded-full font-bold px-6 text-sm max-h-35px min-w-93px default-button"};function Vt(e,s){return c(),u("div",Mt,[pe(e.$slots,"default")])}var be=M(Ot,[["render",Vt]]);const Et={},Lt={class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Rt=a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,-1),At=[Rt];function qt(e,s){return c(),u("svg",Lt,At)}var he=M(Et,[["render",qt]]);const Le=e=>(Ie("data-v-67ba453c"),e=e(),Te(),e),Pt={id:"login-modal"},Nt={class:"relative border bg-white dark:bg-gray-900 border-gray-100 dark:border-black m-w-20 py-5 px-10 rounded-2xl shadow-xl text-center"},Bt=Le(()=>a("p",{class:"font-bold text-xl pb-4"},"Login with access token",-1)),Ht={class:"text-right mt-1"},Ut=Le(()=>a("button",{class:"bg-gray-100 dark:bg-gray-800 py-2 my-3 rounded-md cursor-pointer"},"Sign in",-1)),Dt={inheritAttrs:!1},zt=Object.assign(Dt,{setup(e){const{login:s}=L(),l=v(!1),n=v(""),t=v(""),o=()=>l.value=!1,i=(r,d)=>s(r,d).then(()=>T(`Dashboard accessed as ${r}`,{position:"bottom-right"})).then(()=>o()).catch(h=>T(`${h.response.status}: ${h.response.data.message}`,{type:"danger"}));return(r,d)=>(c(),u("div",Pt,[_(p(Ce),we({modelValue:l.value,"onUpdate:modelValue":d[5]||(d[5]=h=>l.value=h)},r.$attrs,{classes:"flex justify-center items-center"}),{default:w(()=>[a("div",Nt,[Bt,a("form",{class:"flex flex-col w-96 <sm:w-65",onSubmit:d[3]||(d[3]=W(h=>i(n.value,t.value),["prevent"]))},[X(a("input",{placeholder:"Name","onUpdate:modelValue":d[0]||(d[0]=h=>n.value=h),type:"text",class:"input"},null,512),[[ee,n.value]]),X(a("input",{placeholder:"Secret","onUpdate:modelValue":d[1]||(d[1]=h=>t.value=h),type:"password",class:"input"},null,512),[[ee,t.value]]),a("div",Ht,[a("button",{onClick:d[2]||(d[2]=h=>o()),class:"text-blue-400 text-xs"},"\u2190 Back to index")]),Ut],32),a("button",{class:"absolute top-0 right-0 mt-5 mr-5",onClick:d[4]||(d[4]=h=>o())},[_(he)])])]),_:1},16,["modelValue"]),a("div",{onClick:d[6]||(d[6]=h=>l.value=!0)},[pe(r.$slots,"button",{},void 0,!0)])]))}});var Ft=M(zt,[["__scopeId","data-v-67ba453c"]]);const Wt={},Gt={class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Kt=a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"},null,-1),Qt=[Kt];function Yt(e,s){return c(),u("svg",Gt,Qt)}var Zt=M(Wt,[["render",Yt]]);const Jt={},Xt={class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},es=a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"},null,-1),ts=[es];function ss(e,s){return c(),u("svg",Xt,ts)}var os=M(Jt,[["render",ss]]);const ns={},as={xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},ls=a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"},null,-1),rs=[ls];function is(e,s){return c(),u("svg",as,rs)}var cs=M(ns,[["render",is]]);const ds={class:"flex flex-row <sm:max-w-100px <sm:flex-wrap <sm:flex-1 <sm:justify-end <sm:min-w-1/2"},us={key:0,class:"pt-1.1 px-2 <sm:py-2 <sm:max-w-full <sm:truncate"},ps=P(" Welcome "),hs={class:"font-bold underline"},_s=P(" Sign in "),ms=P(" Logout "),vs={key:2,class:"hidden px-2.7 pt-0.8 mr-1.5 cursor-pointer rounded-full bg-white dark:bg-gray-900 max-h-35px <sm:block"},fs={setup(e){const{theme:s,toggleTheme:l}=Ve(),{token:n,isLogged:t,logout:o}=L();return(i,r)=>(c(),u("nav",ds,[p(t)?(c(),u("div",us,[ps,a("span",hs,I(p(n).name),1)])):C("",!0),_(Ft,null,{button:w(()=>[p(t)?C("",!0):(c(),O(be,{key:0},{default:w(()=>[_s]),_:1}))]),_:1}),p(t)?(c(),O(be,{key:1,onClick:r[0]||(r[0]=d=>p(o)()),class:"<sm:hidden"},{default:w(()=>[ms]),_:1})):C("",!0),p(t)?(c(),u("div",vs,[_(cs,{onClick:r[1]||(r[1]=d=>p(o)())})])):C("",!0),a("div",{class:"pl-2 pt-1.3 rounded-full max-h-35px default-button",onClick:r[2]||(r[2]=d=>p(l)())},[p(s).isDark?(c(),O(os,{key:0,class:"mr-1.9"})):(c(),O(Zt,{key:1,class:"mr-1.5"}))])]))}},gs={class:"bg-gray-100 dark:bg-black dark:text-white"},bs={class:"container mx-auto flex flex-row py-10 justify-between <sm:pb-2 <sm:pt-5 <sm:px-5 <sm:justify-start"},$s={class:"text-xl font-medium py-1 <sm:w-1/2"},xs={setup(e){const{title:s}=Q();return(l,n)=>{const t=N("router-link");return c(),u("header",gs,[a("div",bs,[a("h1",$s,[_(t,{to:"/"},{default:w(()=>[P(I(p(s)),1)]),_:1})]),_(fs,{class:"mt-0.5"})]),_(jt,{class:"pt-2 pb-10 <sm:pb-4"})])}}},ys=(e,s,l)=>{const n=(t,o)=>{const i=t.split("-"),r=o.split("-"),d=i[0].split("."),h=r[0].split(".");for(let m=0;m<3;m++){const x=Number(d[m]),g=Number(h[m]);if(x>g)return 1;if(g>x)return-1;if(!isNaN(x)&&isNaN(g))return 1;if(isNaN(x)&&!isNaN(g))return-1}return i[1]&&r[1]?i[1]>r[1]?1:i[1]<r[1]?-1:0:!i[1]&&r[1]?1:i[1]&&!r[1]?-1:0};return(t,o)=>{if(!s(t,o))return 0;const i=n(l(t),l(o));return e?-i:i}},de=v(localStorage.getItem("reversedFileOrder")==="true");H(()=>localStorage.setItem("reversedFileOrder",de.value));const ue=v(localStorage.getItem("displayHashFiles")==="true");H(()=>localStorage.setItem("displayHashFiles",ue.value));function Re(){return{reversedFileOrder:de,displayHashFiles:ue,applyAdjustments:s=>{if(ue.value||(s=s.filter(l=>![".md5",".sha1",".sha256",".sha512"].some(n=>l.name.endsWith(n)))),de.value){const l=ys(!0,(n,t)=>n.type==="DIRECTORY"&&t.type==="DIRECTORY",n=>n.name);s=s.sort(l)}return s}}}const ks={},ws={class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Cs=a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"},null,-1),Is=[Cs];function Ts(e,s){return c(),u("svg",ws,Is)}var Ss=M(ks,[["render",Ts]]);const js={id:"adjustments-modal"},Os={class:"relative border bg-white dark:bg-gray-900 border-gray-100 dark:border-black m-w-20 py-5 px-10 rounded-2xl shadow-xl text-center"},Ms=a("h1",{class:"font-bold pb-4"},"File browser adjustments",-1),Vs=a("hr",{class:""},null,-1),Es={class:"flex justify-between pt-6"},Ls=a("p",{class:"pr-7"},"Sort files from newest to oldest",-1),Rs={class:"flex justify-between pt-6"},As=a("p",{class:"pr-7"},[P(" Display hash files such as "),a("span",{class:"font-italic font-mono bg-gray-200 dark:bg-black px-2 py-0.5 m-2 rounded-lg"},".md5/.sha1/.sha256/.sha512")],-1),qs={inheritAttrs:!1},Ps=Object.assign(qs,{setup(e){const{reversedFileOrder:s,displayHashFiles:l}=Re(),n=v(!1);return(t,o)=>(c(),u("div",js,[_(p(Ce),we({modelValue:n.value,"onUpdate:modelValue":o[3]||(o[3]=i=>n.value=i)},t.$attrs,{classes:"flex justify-center iems-center"}),{default:w(()=>[a("div",Os,[a("div",null,[Ms,Vs,a("div",Es,[Ls,_(p(ge),{modelValue:p(s),"onUpdate:modelValue":o[0]||(o[0]=i=>te(s)?s.value=i:null),class:"ml-10"},null,8,["modelValue"])]),a("div",Rs,[As,_(p(ge),{modelValue:p(l),"onUpdate:modelValue":o[1]||(o[1]=i=>te(l)?l.value=i:null),class:"ml-10"},null,8,["modelValue"])])]),a("button",{class:"absolute top-0 right-0 mt-5 mr-9",onClick:o[2]||(o[2]=i=>n.value=!1)},[_(he)])])]),_:1},16,["modelValue"]),a("div",{onClick:o[4]||(o[4]=i=>n.value=!0)},[pe(t.$slots,"button")])]))}});function Ns(){return{createSnippets:(s,l,n)=>[{name:"Maven",lang:"xml",snippet:`
<dependency>
  <groupId>${s}</groupId>
  <artifactId>${l}</artifactId>
  <version>${n}</version>
</dependency>`.trim()},{name:"Gradle Groovy",lang:"xml",snippet:`implementation "${s}:${l}:${n}"`},{name:"Gradle Kotlin",lang:"kotlin",snippet:`implementation("${s}:${l}:${n}")`},{name:"SBT",lang:"scala",snippet:`"${s}" %% "${l}" %% "${n}"`}]}}function Bs(){const{basePath:e,id:s,title:l}=Q();return{createRepositories:t=>{const o=R(()=>t.path.split("/")[0]),i=s+(t.path?`-${o.value}`:""),r=location.protocol+"//"+location.host+e+(e.endsWith("/")?"":"/")+(t.path?`${o.value}`:"{repository}");return[{name:"Maven",lang:"xml",snippet:`
<repository>
  <id>${i}</id>
  <name>${l}</name>
  <url>${r}</url>
</repository>`.trim()},{name:"Gradle Groovy",lang:"groovy",snippet:`maven {
    url "${r}"
}`.trim()},{name:"Gradle Kotlin",lang:"kotlin",snippet:`maven {
    url = uri("${r}")
}`},{name:"SBT",lang:"scala",snippet:`resolvers +=
  "${i}" 
     at "${r}"`}]}}}const Hs=new DOMParser;function Us(){const e=t=>{var o,i;return(i=(o=t==null?void 0:t.getElementsByTagName("groupId")[0])==null?void 0:o.firstChild)==null?void 0:i.nodeValue},s=t=>{var o,i;return(i=(o=t==null?void 0:t.getElementsByTagName("artifactId")[0])==null?void 0:o.firstChild)==null?void 0:i.nodeValue},l=t=>{var o;return(o=[...t.querySelector("versioning versions").children].map(i=>i.firstChild.nodeValue))!=null?o:["{unknown}"]};return{parseMetadata:t=>{const o=Hs.parseFromString(t,"text/xml"),i=l(o);return{metadata:o,groupId:e(o),artifactId:s(o),versions:i}},groupId:e,artifactId:s,versions:l}}const Ds={},zs={class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Fs=a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"},null,-1),Ws=[Fs];function Gs(e,s){return c(),u("svg",zs,Ws)}var Ks=M(Ds,[["render",Gs]]);const Qs={props:{configuration:{type:Object,required:!0}},setup(e){const s=e,l=R(()=>U({highlighter:n=>{var t;return F.highlight(n,(t=F.languages[s.configuration.lang])!=null?t:F.languages.js)}},s.configuration));return(n,t)=>(c(),O(p(Se),{class:"card-editor font-mono text-ssm absolute",modelValue:p(l).snippet,"onUpdate:modelValue":t[0]||(t[0]=o=>p(l).snippet=o),highlight:p(l).highlighter,readonly:"","line-numbers":""},null,8,["modelValue","highlight"]))}},Ys={},Zs={class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Js=a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1),Xs=[Js];function eo(e,s){return c(),u("svg",Zs,Xs)}var to=M(Ys,[["render",eo]]);const so={id:"card-menu",class:"flex mt-2 <sm:hidden"},oo=["onClick"],no={class:"hidden flex-col items-center mt-24px <sm:flex"},ao={class:"w-20px h-25px float-right m-auto flex items-center"},lo={key:0,class:"rounded-lg w-full box-border p-2 bg-true-gray-100 dark:bg-dark-600"},ro=["onClick"],io={props:{configurations:{type:Object,required:!0}},emits:["selectTab"],setup(e,{emit:s}){const l=v(localStorage.getItem("card-tab")||"Maven");H(()=>{localStorage.setItem("card-tab",l.value),s("selectTab",l.value)});const n=o=>l.value=o.name,t=v(localStorage.getItem("dropdown-open")||!1);return H(()=>localStorage.setItem("dropdown-open",t.value)),(o,i)=>(c(),u("div",null,[a("div",so,[(c(!0),u(A,null,q(e.configurations,r=>(c(),u("div",{key:r.name,onClick:d=>n(r),class:le(["py-4 px-7 flex-grow text-center border-b-2 cursor-pointer border-transparent",{"!border-gray-800":r.name===l.value}])},I(r.name),11,oo))),128))]),a("div",no,[a("div",{class:"w-full box-border py-5px p-2 rounded-lg border-1 border-true-gray-200 dark:border-dark-300",onClick:i[0]||(i[0]=r=>t.value=!t.value)},[P(I(l.value)+" ",1),a("div",ao,[_(to)])]),t.value?C("",!0):(c(),u("ul",lo,[(c(!0),u(A,null,q(e.configurations,r=>(c(),u("li",{key:r.name,onClick:d=>{o.selectTab(r),t.value=!t.value},class:le(["dropdown py-1",{hidden:r.name===l.value}])},I(r.name),11,ro))),128))]))])]))}};const co={class:"bg-white dark:bg-gray-900 shadow-lg p-7 rounded-xl border-gray-100 dark:border-black"},uo={class:"flex flex-row justify-between"},po={class:"font-bold flex items-center w-full"},ho=a("hr",{class:"dark:border-gray-800 <sm:hidden"},null,-1),_o={class:"overflow-hidden"},mo={props:{qualifier:{type:Object,required:!0}},setup(e){const s=e,l=v(""),n=v([]),{createRepositories:t}=Bs(),{createSnippets:o}=Ns(),{parseMetadata:i}=Us(),{client:r}=L(),{copy:d,isSupported:h}=De(),m=()=>{l.value="Repository details",n.value=t(s.qualifier)},x=(b,f)=>{l.value="Artifact details";const{groupId:y,artifactId:E,versions:$}=i(b),k=$[f?$.indexOf(f):$.length-1];n.value=o(y,E,k)};H(()=>{const b=s.qualifier.path,f=b.split("/");if(f.length==1&&f[0]==""){m();return}r.value.maven.content(`${b}/maven-metadata.xml`).then(y=>x(y.data)).catch(()=>{r.value.maven.content(`${b.substring(0,b.indexOf(f[f.length-1])-1)}/maven-metadata.xml`).then(y=>x(y.data,f[f.length-1])).catch(y=>{y.message!=="Request failed with status code 404"&&console.log(y),m()})})});const g=v(),V=v("slide-right");K(g,(b,f)=>{const y=n.value.findIndex($=>$.name===b),E=n.value.findIndex($=>$.name===f);V.value=y-E<0?"slide-left":"slide-right"});const Z=async()=>{const{snippet:b}=n.value.find(f=>f.name===g.value);return await d(b),T("Snippet copied",{type:"info",timeout:"2000"})},S=b=>g.value=b;return(b,f)=>(c(),u("div",co,[a("div",uo,[a("h1",po,[P(I(l.value)+" ",1),p(h)?(c(),u("span",{key:0,onClick:Z,class:"ml-auto cursor-pointer"},[_(Ks)])):C("",!0)])]),_(io,{configurations:n.value,onSelectTab:S},null,8,["configurations"]),ho,a("div",_o,[_(ze,{name:V.value,mode:"out-in"},{default:w(()=>[(c(),u("div",{key:g.value,class:"h-29 relative mt-6 py-3 pl-1 mr-1 rounded-lg bg-gray-100 dark:bg-gray-800"},[(c(!0),u(A,null,q(n.value,y=>(c(),u(A,{key:y.name},[y.name===g.value?(c(),O(Qs,{key:0,configuration:y},null,8,["configuration"])):C("",!0)],64))),128))]))]),_:1},8,["name"])])]))}},vo={class:""},fo={class:"pb-3 font-semibold"},go={class:"select-none"},bo=P(" Index of "),$o={class:"select-text"},xo={class:"hover:transition-colors hover:duration-200 hover:text-purple-500"},yo=a("span",{class:"font-normal text-xl text-gray-500 select-none"}," \u2934 ",-1),ko={props:{parentPath:{type:String,required:!0}},setup(e){const s=ke(),l=R(()=>{const n=s.path.split("/");return n.map((t,o)=>({link:n.slice(0,o+1).join("/")||"/",name:o===n.length-1?t:t+"/"}))});return(n,t)=>{const o=N("router-link");return c(),u("div",vo,[a("p",fo,[a("span",go,[_(o,{to:"/"},{default:w(()=>[bo]),_:1})]),a("span",$o,[(c(!0),u(A,null,q(p(l),i=>(c(),O(o,{key:i.link,to:i.link},{default:w(()=>[a("span",xo,I(i.name),1)]),_:2},1032,["to"]))),128))]),_(o,{to:e.parentPath},{default:w(()=>[yo]),_:1},8,["to"])])])}}},wo={},Co={class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Io=a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),To=a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1),So=[Io,To];function jo(e,s){return c(),u("svg",Co,So)}var Oo=M(wo,[["render",jo]]);const Mo={class:"browser-entry flex flex-row justify-between mb-1.5 py-3 rounded-full default-button"},Vo={class:"flex flex-row"},Eo={key:0,class:"text-xm px-6 pt-1.75"},Lo={key:1,class:"text-xm px-6 pt-1.75"},Ro={class:"font-semibold"},Ao={key:0,class:"px-6 flex"},qo=["title"],$e={props:{file:{type:Object,required:!0}},setup(e){const s=e,l=["application/xml","text/plain","text/xml","text/markdown","application/json"].some(t=>{var o;return((o=s.file)==null?void 0:o.contentType)==t}),n=t=>window.open(t);return(t,o)=>(c(),u("div",Mo,[a("div",Vo,[e.file.type=="DIRECTORY"?(c(),u("div",Eo,"\u26AB")):(c(),u("div",Lo,"\u26AA")),a("div",Ro,I(e.file.name),1)]),e.file.hasOwnProperty("contentLength")?(c(),u("div",Ao,[p(l)?(c(),u("div",{key:0,title:`Click to view ${e.file.name} file content in a new tab`},[_(Oo,{id:"view-button",class:"px-1 mr-7 pt-0.4 rounded-full text-purple-300 hover:transition-colors hover:duration-200 hover:bg-gray-100 hover:dark:bg-gray-900",onClick:[o[0]||(o[0]=W(i=>n(`${t.$route.path}/${e.file.name}`),["left","prevent"])),o[1]||(o[1]=W(()=>{},["stop"]))]})],8,qo)):C("",!0),a("div",null,I(p(Fe)(e.file.contentLength)),1)])):C("",!0)]))}},Po={id:"browser-list",class:"pt-3"},No=["onClick","href"],Bo={key:0,class:"pl-2"},Ho=a("p",null,"Directory is empty",-1),Uo=[Ho],Do={key:1,class:"pl-2"},zo=a("p",null,"Directory not found",-1),Fo=[zo],Wo={props:{files:{type:Object,required:!0}},setup(e){const{client:s}=L(),l=(n,t)=>{s.value.maven.download(n.substring(1)+"/"+t).then(o=>We(o.data,t,o.headers["content-type"])).catch(o=>T(`Cannot download file - ${o.response.status}: ${o.response.data.message}`,{type:"danger"}))};return(n,t)=>{const o=N("router-link");return c(),u("div",Po,[(c(!0),u(A,null,q(e.files.list,i=>(c(),u("div",{key:i},[i.type==="DIRECTORY"?(c(),O(o,{key:0,to:n.append(n.$route.path,i.name)},{default:w(()=>[_($e,{file:i},null,8,["file"])]),_:2},1032,["to"])):(c(),u("a",{key:1,onClick:W(r=>l(n.$route.path,i.name),["left","prevent"]),href:`${n.$route.path}/${i.name}`,target:"_blank"},[_($e,{file:i},null,8,["file"])],8,No))]))),128)),e.files.isEmpty?(c(),u("div",Bo,Uo)):C("",!0),e.files.error?(c(),u("div",Do,Fo)):C("",!0)])}}},Go=e=>T(e,{type:"success"}),Ko=e=>T(e,{type:"danger"});const Qo={id:"browser-upload"},Yo={class:"border border-dashed rounded-3xl mt-1.5 cursor-pointer bg-gray-50 border-gray-300 hover:transition-colors hover:duration-200 hover:bg-white dark:bg-black dark:border-gray-800 dark:hover:transition-colors dark:hover:duration-400 dark:hover:bg-gray-900"},Zo={class:"my-3 px-6"},Jo={key:0,class:"flex"},Xo=a("span",{class:"text-xm pt-1.6"},"\u{1F7E3}",-1),en=a("span",{class:"font-bold px-5"},"Select files",-1),tn=[Xo,en],sn={key:1,class:"py-1"},on=a("p",{class:"font-bold"},"Selected files to deploy here",-1),nn=[on],an={class:"-mt-2 pb-2"},ln=["onClick"],rn={class:"px-2"},cn={key:0,class:"text-right"},dn=["onClick"],un=a("span",null,"Upload files ",-1),pn=a("span",{class:"font-bold text-purple-400"},"\u219D",-1),hn=[un,pn],_n={setup(e){const{client:s}=L(),{qualifier:l,refreshQualifier:n}=Ee(),t=v([]),o=r=>t.value=t.value.filter(d=>d!==r),i=()=>{t.value.forEach(r=>s.value.maven.deploy(`${l.path}/${r.name}`,r.file).then(()=>Go(`File ${r.name} has been uploaded`)).then(()=>o(r)).catch(d=>Ko(`Cannot upload file ${r.name} - ${d.response.status}: ${d.response.data.message}`))),n()};return(r,d)=>(c(),u("div",Qo,[a("div",Yo,[_(p(Ge),{class:"btn btn-primary flex text-left","post-action":"/upload/post",multiple:!0,drop:!0,"drop-directory":!0,modelValue:t.value,"onUpdate:modelValue":d[0]||(d[0]=h=>t.value=h),ref:"upload"},{default:w(()=>[a("div",Zo,[t.value.length==0?(c(),u("div",Jo,tn)):(c(),u("div",sn,nn))])]),_:1},8,["modelValue"]),a("div",an,[(c(!0),u(A,null,q(t.value,h=>(c(),u("div",{key:h.name,class:"pb-1 px-6 flex"},[a("span",{onClick:m=>o(h),class:"pt-0.85"},[_(he,{class:"h-5 text-purple-400"})],8,ln),a("span",rn,I(h.name),1)]))),128))])]),t.value.length>0?(c(),u("div",cn,[a("button",{onClick:W(i,["prevent"]),class:"border text-sm py-1.5 h-9 px-4 mt-1.5 border-dashed rounded bg-gray-50 border-gray-400 hover:transition-colors hover:duration-200 hover:bg-purple-500 hover:text-white dark:bg-black dark:border-gray-700 dark:text-white dark:hover:transition-colors dark:hover:duration-200 dark:hover:bg-purple-700"},hn,8,dn)])):C("",!0)]))}},mn={class:"bg-gray-100"},vn={class:"dark:bg-black"},fn={class:"container mx-auto relative min-h-320px mb-1.5"},gn={class:"lg:absolute pt-13 -top-5 right-8"},bn={class:"lg:max-w-2/5 xl:max-w-1/2"},$n={class:"flex justify-between pt-7 px-2"},xn={class:"w-9"},yn={class:"bg-white dark:bg-gray-900 pl-2 pt-1.3 pb-1 pr-2 cursor-pointer rounded-full default-button"},kn={props:{qualifier:{type:Object,required:!0}},setup(e){const s=e,l=v(""),n=v({}),{client:t,isManager:o}=L(),{applyAdjustments:i}=Re(),r=R(()=>fe(U({},n.value),{list:i([...n.value.list])}));return K(()=>s.qualifier.watchable,async()=>{n.value={list:[]};const d=s.qualifier.path;t.value.maven.details(d).then(m=>n.value={list:m.data.files}).then(()=>n.value.isEmpty=n.value.list.length==0).catch(m=>{T(`${m.response.status}: ${m.response.data.message}`,{type:"danger"}),n.value={list:[],error:!0}});const h=m=>(m.endsWith("/")?m.slice(0,-1):m).split("/").slice(0,-1).join("/")||"/";l.value=h(`/${d}`)},{immediate:!0}),(d,h)=>(c(),u("div",mn,[a("div",vn,[a("div",fn,[a("div",gn,[_(mo,{qualifier:e.qualifier},null,8,["qualifier"])]),a("div",bn,[a("div",$n,[_(ko,{parentPath:l.value},null,8,["parentPath"]),_(Ps,null,{button:w(()=>[a("div",xn,[a("div",yn,[_(Ss,{class:"pr-0.9"})])])]),_:1})]),_(Wo,{files:p(r)},null,8,["files"]),p(o)?(c(),O(_n,{key:0})):C("",!0)])])])]))}};const wn={class:"container mx-auto py-10 px-15"},Cn=a("div",null,[a("p",null,"Modify configuration shared between all instances."),a("p",null,[a("strong",null,"Remember"),P(": Configuration propagation can take up to 30 seconds on all instances")])],-1),In=a("p",null,"Reset changes",-1),Tn=[In],Sn=a("p",null,"Update and reload",-1),jn=[Sn],On={class:"border-1 rounded p-4 dark:border-gray-700"},Mn={setup(e){const{client:s}=L(),l=d=>F.highlight(d,F.languages.js),n="configuration.shared.cdn",t=v(""),o=v(!1),i=()=>s.value.settings.content(n).then(d=>t.value=d.data.content).catch(d=>T(d,{type:"error"})),r=()=>s.value.settings.updateContent(n,t.value).then(()=>T("Configuration has been deployed, fetching...",{type:"info"})).then(()=>i()).then(()=>T("Configuration reloaded, refresh page to see changes",{type:"success"})).catch(d=>T(d,{type:"error"}));return i().then(()=>o.value=!0),(d,h)=>(c(),u("div",wn,[a("div",{class:"flex justify-between pb-5 flex-col xl:flex-row"},[Cn,a("div",{id:"configuration-state",class:"flex flex-row pt-3 xl:pt-2"},[a("button",{onClick:i},Tn),a("button",{onClick:r},jn)])]),a("div",On,[o.value?(c(),O(p(Se),{key:0,class:"configuration-editor font-mono text-xs",modelValue:t.value,"onUpdate:modelValue":h[0]||(h[0]=m=>t.value=m),highlight:l,"line-numbers":""},null,8,["modelValue"])):C("",!0)])]))}},Ae=["Other","Trace","Debug","Info","Warn","Error"],ne=G({}),xe=v(""),Vn=v(0),J=G([]),En=new Ke,Ln=e=>{var s;return(s=Ae.find(l=>e.includes(`${l.toUpperCase()} | `)))!=null?s:"Other"},ye=e=>En.toHtml(e.replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll(" ","&nbsp;"));function Rn(){Ae.forEach(n=>{ne[n]={name:n,enabled:!0,count:R(()=>J.reduce((t,o)=>t+(o.level===n),0))}});const e=R(()=>J.filter(n=>n.message.toLowerCase().includes(xe.value.toLowerCase())).filter(n=>ne[n.level].enabled));return{levels:ne,log:e,filter:xe,sanitizeMessage:ye,logMessage:n=>{J.push({id:Vn.value++,message:ye(n),level:Ln(n)})},clearLog:()=>{J.length=0}}}const j=v(),z=v("");function An(){const e=re("/api/console/sock").replace("https","wss").replace("http","ws"),s=()=>{var S;return((S=j.value)==null?void 0:S.readyState)===WebSocket.OPEN},l=()=>{s()&&j.value.close()},n=v([""]),t=v(0),o=S=>{n.value[n.value.length-1]==""&&n.value.pop(),n.value.push(S),t.value=n.value.length-1},i=()=>{o(z.value),j.value.send(z.value),z.value=""},r=()=>h(-1),d=()=>h(1),h=S=>{const b=z.value,f=n.value,y=f.length-1;y===t.value&&f[y]!==b&&o(b),t.value=Math.max(0,Math.min(f.length-1,t.value+S)),z.value=n.value[t.value]},m=v(),x=v(),g=v(),V=v();return{connection:j,connect:S=>{try{j.value=new WebSocket(e),j.value.onopen=()=>{j.value.send(`Authorization:${S.name}:${S.secret}`),m==null||m.value()},j.value.onmessage=f=>{f.data!="keep-alive"&&(x==null||x.value(f.data))},j.value.onerror=f=>g==null?void 0:g.value(f),j.value.onclose=()=>V==null?void 0:V.value();const b=setInterval(()=>{var f;s()?(f=j==null?void 0:j.value)==null||f.send("keep-alive"):clearInterval(b)},1e3*5)}catch(b){g==null||g.value(b)}},close:l,onOpen:m,onMessage:x,onError:g,onClose:V,command:z,execute:i,previousCommand:r,nextCommand:d}}const qn={class:"container mx-auto pt-10 px-15 pb-10 text-xs"},Pn={class:"flex text-sm flex-col xl:flex-row w-full py-2 justify-between"},Nn={class:"flex flex-row justify-around w-full xl:w-1/2 <md:flex-wrap"},Bn=["checked","onChange"],Hn={class:"pl-2 pr-4"},Un={class:"bg-white dark:bg-gray-900 rounded-lg"},Dn={id:"console",class:"overflow-scroll h-144 px-4 whitespace-pre-wrap font-mono text-xs"},zn=["innerHTML"],Fn=a("hr",{class:"dark:border-dark-300"},null,-1),Wn={props:{selectedTab:{type:Object,required:!0}},setup(e){const s=e,{levels:l,log:n,logMessage:t,filter:o,clearLog:i}=Rn(),{onOpen:r,onMessage:d,onClose:h,onError:m,connect:x,close:g,command:V,execute:Z,previousCommand:S,nextCommand:b}=An();Qe(()=>g());const f=()=>{const E=document.getElementById("console");E.scrollTop=E.scrollHeight},y=()=>{r.value=()=>i(),d.value=$=>{t($),Ye(()=>f())},m.value=$=>T(`${$||""}`,{type:"danger"}),h.value=()=>T("Connection with console has been lost",{type:"danger"}),T("Connecting to the remote console",{type:"info"});const{token:E}=L();x(E.value)};return K(()=>s.selectedTab.value,E=>E==="Console"?y():g(),{immediate:!0}),(E,$)=>(c(),u("div",qn,[a("div",Pn,[X(a("input",{placeholder:"Filter","onUpdate:modelValue":$[0]||($[0]=k=>te(o)?o.value=k:null),class:"w-full xl:w-1/2 mr-5 py-1 px-4 rounded-lg bg-white dark:bg-gray-900"},null,512),[[ee,p(o)]]),a("div",Nn,[(c(!0),u(A,null,q(p(l),k=>(c(),u("div",{key:k.name,class:"pt-1.9 xl:pt-0.8 font-sans whitespace-nowrap"},[a("input",{type:"checkbox",checked:k.enabled,onChange:ta=>k.enabled=!k.enabled},null,40,Bn),a("span",Hn,I(k.name)+" ("+I(k.count)+")",1)]))),128))])]),a("div",Un,[a("div",Dn,[(c(!0),u(A,null,q(p(n),k=>(c(),u("p",{key:k.id,innerHTML:k.message,class:"whitespace-nowrap"},null,8,zn))),128))]),Fn,X(a("input",{id:"consoleInput",placeholder:"Type command or '?' to get help",class:"w-full py-2 px-4 rounded-b-lg bg-white dark:bg-gray-900 dark:text-white","onUpdate:modelValue":$[1]||($[1]=k=>te(V)?V.value=k:null),onKeyup:[$[2]||($[2]=se(k=>p(Z)(),["enter"])),$[3]||($[3]=se(k=>p(S)(),["up"])),$[4]||($[4]=se(k=>p(b)(),["down"]))]},null,544),[[ee,p(V)]])])]))}};const Gn=e=>(Ie("data-v-546f8039"),e=e(),Te(),e),Kn={class:"bg-gray-100 dark:bg-black"},Qn={class:"container mx-auto <sm:px-0"},Yn=Gn(()=>a("hr",{class:"dark:border-gray-700"},null,-1)),Zn={class:"overflow-auto"},Jn={props:{qualifier:{type:Object,required:!0}},setup(e){const{isManager:s}=L(),l=[{name:"Overview"},{name:"Console",manager:!0},{name:"Configuration",manager:!0}],n=G({value:localStorage.getItem("selectedTab")||"Overview"});H(()=>localStorage.setItem("selectedTab",n.value));const t=R(()=>l.filter(o=>!(o==null?void 0:o.manager)||s.value).map(o=>o.name));return(o,i)=>{const r=N("tab"),d=N("tabs"),h=N("tab-panel"),m=N("tab-panels");return c(),u("div",null,[_(xs),a("div",Kn,[a("div",Qn,[_(d,{modelValue:p(n).value,"onUpdate:modelValue":i[0]||(i[0]=x=>p(n).value=x)},{default:w(()=>[(c(!0),u(A,null,q(p(t),(x,g)=>(c(),O(r,{class:"item font-normal",key:`menu${g}`,val:x,label:x,indicator:!0},null,8,["val","label"]))),128))]),_:1},8,["modelValue"])]),Yn,a("div",Zn,[_(m,{modelValue:p(n).value,"onUpdate:modelValue":i[1]||(i[1]=x=>p(n).value=x),animate:!0},{default:w(()=>[_(h,{val:"Overview"},{default:w(()=>[_(kn,{qualifier:e.qualifier,ref:""},null,8,["qualifier"])]),_:1}),p(s)?(c(),O(h,{key:0,val:"Console"},{default:w(()=>[_(Wn,{selectedTab:p(n)},null,8,["selectedTab"])]),_:1})):C("",!0),p(s)?(c(),O(h,{key:1,val:"Configuration"},{default:w(()=>[_(Mn,{selectedTab:p(n)},null,8,["selectedTab"])]),_:1})):C("",!0)]),_:1},8,["modelValue"])])])])}}};var Xn=M(Jn,[["__scopeId","data-v-546f8039"]]);const ea=Ze({history:Je(),routes:[{path:"/:qualifier(.*)",name:"Index",component:Xn}]});const _e=Xe(_t);_e.config.globalProperties.append=(e,s)=>e+(e.endsWith("/")?"":"/")+s;_e.config.globalProperties.drop=e=>(e.endsWith("/")?e.slice(0,-1):e).split("/").slice(0,-1).join("/");_e.use(et()).use(tt,ae).use(st).use(ea).mount("#app");
