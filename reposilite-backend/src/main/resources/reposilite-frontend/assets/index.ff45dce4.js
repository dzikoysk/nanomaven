var Te=Object.defineProperty;var ue=Object.getOwnPropertySymbols;var Se=Object.prototype.hasOwnProperty,Le=Object.prototype.propertyIsEnumerable;var pe=(o,t,i)=>t in o?Te(o,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):o[t]=i,ne=(o,t)=>{for(var i in t||(t={}))Se.call(t,i)&&pe(o,i,t[i]);if(ue)for(var i of ue(t))Le.call(t,i)&&pe(o,i,t[i]);return o};import{r as V,a as se,u as _e,w as U,d as Me,b as Ee,c as m,o as d,e as p,f as r,g as h,t as y,h as $,n as ae,i as me,E as Oe,S as je,j as f,k as x,l as qe,m as Q,v as Y,p as Pe,q as L,s as he,x as ge,y as B,z as M,A as P,P as fe,B as Re,C as W,D as G,F as O,G as R,T as Ve,H as Be,I as Ae,J as De,K as He,L as ve,M as Ne,N as ze,O as Ue,Q as We,R as Ge,U as Ke}from"./vendor.a01793aa.js";const Fe=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))e(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const n of l.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&e(n)}).observe(document,{childList:!0,subtree:!0});function i(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerpolicy&&(l.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?l.credentials="include":s.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function e(s){if(s.ep)return;s.ep=!0;const l=i(s);fetch(s.href,l)}};Fe();const H=V({isDark:!1}),re="dark-theme";function be(){return{theme:H,fetchTheme:()=>{localStorage.getItem(re)===null?H.isDark=window.matchMedia("(prefers-color-scheme: dark)").matches:H.isDark=localStorage.getItem(re)==="true"},toggleTheme:()=>{H.isDark=!H.isDark,localStorage.setItem(re,H.isDark)}}}function N(){const o=!"{{REPOSILITE.BASE_PATH}}".includes("REPOSILITE.BASE_PATH"),t=o?"{{REPOSILITE.BASE_PATH}}":"/",i=o?"{{REPOSILITE.ID}}":"reposilite-repository",e=o?"{{REPOSILITE.TITLE}}":"Reposilite Repository",s=o?"{{REPOSILITE.DESCRIPTION}}":"Public Maven repository hosted through the Reposilite",l=o?"{{REPOSILITE.ORGANIZATION_WEBSITE}}":location.protocol+"//"+location.host+t;return{available:o,basePath:t,id:i,title:e,description:s,organizationWebsite:l,organizationLogo:o?"{{REPOSILITE.ORGANIZATION_LOGO}}":"https://avatars.githubusercontent.com/u/75123628?s=200&v=4",icpLicense:o?"{{REPOSILITE.ICP_LICENSE}}":"\u56FDICP\u5907000000000\u53F7"}}const{basePath:Qe}=N(),ie=()=>window.location.protocol+"//"+location.host+Qe,Ye=()=>ie().endsWith("/")?ie().slice(0,-1):ie(),K=o=>Ye()+o,Z=(o,t)=>{const i=()=>o&&t?e(o,t):{},e=(a,u)=>({headers:{Authorization:`xBasic ${btoa(`${a}:${u}`)}`}}),s=(a,u)=>se.get(K(a),ne({},u||i())),l=(a,u,c)=>se.put(K(a),u,{headers:ne({"Content-Type":"text/plain"},(c||i()).headers)});return{createURL:K,client:{auth:{me(a,u){return s("/api/auth/me",e(a,u))}},console:{},maven:{content(a){return s(`/${a}`)},details(a){return s(`/api/maven/details/${a||""}`)}},settings:{content(a){return s(`/api/settings/content/${a}`)},updateContent(a,u){return l(`/api/settings/content/${a}`,u)}}}}},j="",ke="session-token-name",xe="session-token-secret",Ze="access-token:manager",J=V({name:j,secret:j}),ye={id:j,name:j,createdAt:j,permissions:[],routes:[]},X=V({details:ye});function F(){const o=(n,a)=>{localStorage.setItem(ke,n),J.name=n,localStorage.setItem(xe,a),J.secret=a},t=()=>{o(j,j),X.details=ye},i=async(n,a)=>{try{const{client:u}=Z();if(n==j)throw new Error("Missing credentials");const c=await u.auth.me(n,a);return o(n,a),X.details=c.data,{token:J,session:X}}catch(u){throw t(),u}};return{token:J,session:X,login:i,logout:t,fetchSession:()=>i(localStorage.getItem(ke),localStorage.getItem(xe)),isLogged:n=>(n==null?void 0:n.name)!=j,hasManagerPermission:n=>{var a;return(a=n==null?void 0:n.permissions)==null?void 0:a.find(u=>u.identifier==Ze)}}}const ee=V({watchable:0,path:""});function Je(o){const t=_e();return U(()=>t.params.qualifier,i=>{ee.path=i,ee.watchable++},{immediate:!0}),U(()=>o.name,i=>ee.watchable++),{qualifier:ee}}var v=(o,t)=>{for(const[i,e]of t)o[i]=e;return o};const Xe=Me({setup(){const{title:o,description:t,organizationLogo:i,icpLicense:e}=N();Ee({title:o,description:t});const{theme:s,fetchTheme:l}=be(),{fetchSession:n,token:a,session:u}=F(),{qualifier:c}=Je(a);return l(),n().catch(g=>{}),{theme:s,qualifier:c,token:a,session:u,icpLicense:e}}}),et={class:"min-h-screen dark:bg-black dark:text-white"},tt={key:0,class:"absolute h-8 pb-2 w-full text-center text-xs dark:bg-black dark:text-white"},ot={href:"https://beian.miit.gov.cn",target:"_blank"};function nt(o,t,i,e,s,l){const n=m("router-view");return d(),p("div",{class:ae({dark:o.theme.isDark})},[r("div",et,[h(n,{class:"router-view-full",qualifier:o.qualifier,token:o.token,session:o.session},null,8,["qualifier","token","session"]),o.icpLicense?(d(),p("div",tt,[r("a",ot,y(o.icpLicense),1)])):$("",!0)])],2)}var st=v(Xe,[["render",nt]]);const at={},rt={class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},it=r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1),lt=[it];function ct(o,t){return d(),p("svg",rt,lt)}var dt=v(at,[["render",ct]]);const ut={components:{GlobeIcon:dt},setup(){const{description:o,organizationWebsite:t,organizationLogo:i}=N();return{description:o,organizationWebsite:t,organizationLogo:i}}},pt={class:"bg-gray-100 dark:bg-black"},_t={class:"container mx-auto flex flex-row <sm:flex-col <sm:items-center"},mt={class:"w-35 <sm:mb-2"},ht=["src"],gt={class:"flex flex-col justify-center px-10 <sm:px-0"},ft={class:"<sm:text-center"},vt={class:"flex flex-row py-2 <sm:justify-center"},bt=["href"];function kt(o,t,i,e,s,l){const n=m("GlobeIcon");return d(),p("div",pt,[r("div",_t,[r("div",mt,[r("img",{class:"border-2 rounded-full dark:border-gray-700",src:e.organizationLogo},null,8,ht)]),r("div",gt,[r("div",ft,y(e.description),1),r("div",vt,[h(n),r("a",{class:"px-3 text-gray-500",href:e.organizationWebsite},y(e.organizationWebsite),9,bt)])])])])}var xt=v(ut,[["render",kt]]);const yt={},wt={class:"mx-2 py-1.5 rounded-full bg-white dark:bg-gray-900 font-bold px-6 text-sm cursor-pointer max-h-35px min-w-93px"};function $t(o,t){return d(),p("div",wt,[me(o.$slots,"default")])}var It=v(yt,[["render",$t]]);const Ct={inheritAttrs:!1,components:{VueFinalModal:Oe,ModalsContainer:je},setup(){const{login:o}=F(),t=f(!1),i=f(""),e=f(""),s=()=>t.value=!1;return{name:i,secret:e,close:s,showLogin:t,signin:(n,a)=>{o(n,a).then(u=>L(`Dashboard accessed as ${n}`,{position:"bottom-right"})).then(u=>s()).catch(u=>{console.log(u),L(`${u.response.status}: ${u.response.data.message}`,{type:"danger"})})}}}},we=o=>(he("data-v-2513fc5f"),o=o(),ge(),o),Tt={class:"relative border bg-white dark:bg-gray-900 border-gray-100 dark:border-black m-w-20 py-5 px-10 rounded-2xl shadow-xl text-center"},St=we(()=>r("p",{class:"font-bold text-xl pb-4"},"Login with access token",-1)),Lt={class:"text-right mt-1"},Mt=we(()=>r("button",{class:"bg-gray-100 dark:bg-gray-800 py-2 my-3 rounded-md cursor-pointer"},"Sign in",-1));function Et(o,t,i,e,s,l){const n=m("vue-final-modal");return d(),p("div",null,[h(n,Pe({modelValue:e.showLogin,"onUpdate:modelValue":t[5]||(t[5]=a=>e.showLogin=a)},o.$attrs,{classes:"flex justify-center items-center"}),{default:x(()=>[r("div",Tt,[St,r("form",{class:"flex flex-col w-96 <sm:w-65",onSubmit:t[3]||(t[3]=qe(a=>e.signin(e.name,e.secret),["prevent"]))},[Q(r("input",{placeholder:"Name","onUpdate:modelValue":t[0]||(t[0]=a=>e.name=a),type:"text",class:"input"},null,512),[[Y,e.name]]),Q(r("input",{placeholder:"Secret","onUpdate:modelValue":t[1]||(t[1]=a=>e.secret=a),type:"password",class:"input"},null,512),[[Y,e.secret]]),r("div",Lt,[r("button",{onClick:t[2]||(t[2]=a=>e.close()),class:"text-blue-400 text-xs"},"\u2190 Back to index")]),Mt],32),r("button",{class:"absolute top-0 right-0 mt-5 mr-5",onClick:t[4]||(t[4]=a=>e.close())},"\u{1F5D9}")])]),_:1},16,["modelValue"]),r("div",{onClick:t[6]||(t[6]=a=>e.showLogin=!0)},[me(o.$slots,"button",{},void 0,!0)])])}var Ot=v(Ct,[["render",Et],["__scopeId","data-v-2513fc5f"]]);const jt={},qt={class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Pt=r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"},null,-1),Rt=[Pt];function Vt(o,t){return d(),p("svg",qt,Rt)}var Bt=v(jt,[["render",Vt]]);const At={},Dt={class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Ht=r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"},null,-1),Nt=[Ht];function zt(o,t){return d(),p("svg",Dt,Nt)}var Ut=v(At,[["render",zt]]);const Wt={},Gt={xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Kt=r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"},null,-1),Ft=[Kt];function Qt(o,t){return d(),p("svg",Gt,Ft)}var Yt=v(Wt,[["render",Qt]]);const Zt={components:{LogoutIcon:Yt,MenuButton:It,LoginModal:Ot,MoonIcon:Bt,SunIcon:Ut},props:{token:{type:Object,required:!0}},setup(o){const{theme:t,toggleTheme:i}=be(),{title:e}=N(),{isLogged:s,logout:l}=F(),n=o.token,a=B(()=>s(n));return{token:n,title:e,logged:a,signout:()=>l(),theme:t,toggleTheme:i}}},Jt={class:"flex flex-row <sm:max-w-100px <sm:flex-wrap <sm:flex-1 <sm:justify-end <sm:min-w-1/2"},Xt={key:0,class:"pt-1.1 px-2 <sm:py-2 <sm:max-w-full <sm:truncate"},eo=P(" Welcome "),to={class:"font-bold underline"},oo=P(" Sign in "),no=P(" Logout "),so={key:2,class:"hidden px-2.7 pt-0.8 mr-1.5 cursor-pointer rounded-full bg-white dark:bg-gray-900 max-h-35px <sm:block"};function ao(o,t,i,e,s,l){const n=m("MenuButton"),a=m("LoginModal"),u=m("LogoutIcon"),c=m("SunIcon"),g=m("MoonIcon");return d(),p("nav",Jt,[e.logged?(d(),p("div",Xt,[eo,r("span",to,y(e.token.name),1)])):$("",!0),h(a,null,{button:x(()=>[e.logged?$("",!0):(d(),M(n,{key:0},{default:x(()=>[oo]),_:1}))]),_:1}),e.logged?(d(),M(n,{key:1,onClick:t[0]||(t[0]=_=>e.signout()),class:"<sm:hidden"},{default:x(()=>[no]),_:1})):$("",!0),e.logged?(d(),p("div",so,[h(u,{onClick:t[1]||(t[1]=_=>e.signout())})])):$("",!0),r("div",{class:"pl-2 pt-1.3 cursor-pointer rounded-full bg-white dark:bg-gray-900 max-h-35px",onClick:t[2]||(t[2]=_=>e.toggleTheme())},[e.theme.isDark?(d(),M(c,{key:0,class:"mr-1.9"})):(d(),M(g,{key:1,class:"mr-1.5"}))])])}var ro=v(Zt,[["render",ao]]);const io={components:{Hero:xt,Menu:ro},props:{token:{type:Object,required:!0}},setup(o){const t=o.token,{title:i}=N();return{token:t,title:i}}},lo={class:"bg-gray-100 dark:bg-black dark:text-white"},co={class:"container mx-auto flex flex-row py-10 justify-between <sm:pb-2 <sm:pt-5 <sm:px-5 <sm:justify-start"},uo={class:"text-xl font-medium py-1 <sm:w-1/2"};function po(o,t,i,e,s,l){const n=m("router-link"),a=m("Menu"),u=m("Hero");return d(),p("header",lo,[r("div",co,[r("h1",uo,[h(n,{to:"/"},{default:x(()=>[P(y(e.title),1)]),_:1})]),h(a,{token:e.token,class:"mt-0.5"},null,8,["token"])]),h(u,{class:"pt-2 pb-11 <sm:pb-4"})])}var _o=v(io,[["render",po]]);function mo(){return{createSnippets:(t,i,e)=>[{name:"Maven",lang:"xml",snippet:`
<dependency>
  <groupId>${t}</groupId>
  <artifactId>${i}</artifactId>
  <version>${e}</version>
</dependency>`.trim()},{name:"Gradle Groovy",lang:"xml",snippet:`implementation "${t}:${i}:${e}"`},{name:"Gradle Kotlin",lang:"kotlin",snippet:`implementation("${t}:${i}:${e}")`},{name:"SBT",lang:"scala",snippet:`"${t}" %% "${i}" %% "${e}"`}]}}function ho(){const{basePath:o,id:t,title:i}=N();return{createRepositories:s=>{const l=B(()=>s.path.split("/")[0]),n=t+(s.path?`-${l.value}`:""),a=location.protocol+"//"+location.host+o+(o.endsWith("/")?"":"/")+(s.path?`${l.value}`:"{repository}");return[{name:"Maven",lang:"xml",snippet:`
<repository>
  <id>${n}</id>
  <name>${i}</name>
  <url>${a}</url>
</repository>
        `.trim()},{name:"Gradle Groovy",lang:"groovy",snippet:`maven {
    url "${a}"
 }`.trim()},{name:"Gradle Kotlin",lang:"kotlin",snippet:`maven {
    url = uri("${a}")
}`},{name:"SBT",lang:"scala",snippet:`resolvers += "${n}" at "${a}"`}]}}}const go=new DOMParser;function fo(){return{parseMetadata:s=>go.parseFromString(s,"text/xml"),groupId:s=>{var l,n;return(n=(l=s==null?void 0:s.getElementsByTagName("groupId")[0])==null?void 0:l.firstChild)==null?void 0:n.nodeValue},artifactId:s=>{var l,n;return(n=(l=s==null?void 0:s.getElementsByTagName("artifactId")[0])==null?void 0:l.firstChild)==null?void 0:n.nodeValue},versions:s=>{var l;return(l=[...s.querySelector("versioning versions").children].map(n=>n.firstChild.nodeValue))!=null?l:["{unknown}"]}}}const vo={},bo={class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},ko=r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"},null,-1),xo=[ko];function yo(o,t){return d(),p("svg",bo,xo)}var wo=v(vo,[["render",yo]]);const $o={},Io={class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Co=r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1),To=[Co];function So(o,t){return d(),p("svg",Io,To)}var Lo=v($o,[["render",So]]);const Mo={components:{PrismEditor:fe,CopyIcon:wo,DownIcon:Lo},props:{qualifier:{type:Object,required:!0},token:{type:Object,required:!0}},setup(o){const t=o.qualifier,i=o.token,e=f(""),s=f([]),{createRepositories:l}=ho(),{createSnippets:n}=mo(),{parseMetadata:a,groupId:u,artifactId:c,versions:g}=fo(),{client:_}=Z(i.name,i.secret),{copy:C,isSupported:b}=Re(),q=f(localStorage.getItem("card-tab")||"Maven"),T=f(localStorage.getItem("dropdown-open")||!1);W(()=>localStorage.setItem("card-tab",q.value)),W(()=>localStorage.setItem("dropdown-open",T.value));const A=()=>{s.value=l(t),e.value="Repository details"},E=(k,S)=>{e.value="Artifact details";const w=a(k),z=g(w);s.value=n(u(w),c(w),z[S?z.indexOf(S):z.length-1])};W(()=>{const k=t.path.split("/");if(k.length==1&&k[0]==""){A();return}_.maven.content(`${t.path}/maven-metadata.xml`).then(S=>E(S.data)).catch(S=>{_.maven.content(`${t.path.substring(0,t.path.indexOf(k[k.length-1])-1)}/maven-metadata.xml`).then(w=>E(w.data,k[k.length-1])).catch(w=>{w.message!=="Request failed with status code 404"&&console.log(w),A()})})}),W(()=>{s.value.forEach(k=>{k.highlighter=S=>{var w;return G.highlight(S,(w=G.languages[k.lang])!=null?w:G.languages.js)}})});const D=f("slide-right");return U(q,(k,S)=>{const w=s.value.findIndex(oe=>oe.name===k),z=s.value.findIndex(oe=>oe.name===S);D.value=w-z<0?"slide-left":"slide-right"}),{title:e,configurations:s,selectedTab:q,transitionName:D,copy:async()=>{const{snippet:k}=s.value.find(S=>S.name===q.value);return await C(k),L("Copied snippet",{type:"info"})},isCopySupported:b,dropdownOpen:T}}},Eo={class:"bg-white dark:bg-gray-900 shadow-lg p-7 rounded-xl border-gray-100 dark:border-black"},Oo={class:"flex flex-row justify-between"},jo={class:"font-bold flex items-center w-full"},qo={class:"flex <sm:hidden"},Po=["onClick"],Ro={class:"hidden flex-col items-center mt-24px <sm:flex"},Vo={class:"w-20px h-25px float-right m-auto flex items-center"},Bo={key:0,class:"rounded-lg w-full box-border p-2 bg-true-gray-100 dark:bg-dark-600"},Ao=["onClick"],Do=r("hr",{class:"dark:border-gray-800 <sm:hidden"},null,-1),Ho={class:"overflow-hidden"};function No(o,t,i,e,s,l){const n=m("copy-icon"),a=m("down-icon"),u=m("prism-editor");return d(),p("div",Eo,[r("div",Oo,[r("h1",jo,[P(y(e.title)+" ",1),e.isCopySupported?(d(),p("span",{key:0,onClick:t[0]||(t[0]=(...c)=>e.copy&&e.copy(...c)),class:"ml-auto cursor-pointer"},[h(n)])):$("",!0)])]),r("div",qo,[(d(!0),p(O,null,R(e.configurations,c=>(d(),p("div",{key:c.name,onClick:g=>e.selectedTab=c.name,class:ae(["py-4 px-7 flex-grow text-center border-b-2 cursor-pointer border-transparent",{"!border-gray-800":c.name===e.selectedTab}])},y(c.name),11,Po))),128))]),r("div",Ro,[r("div",{class:"w-full box-border py-5px p-2 rounded-lg border-1 border-true-gray-200 dark:border-dark-300",onClick:t[1]||(t[1]=c=>e.dropdownOpen=!e.dropdownOpen)},[P(y(e.selectedTab)+" ",1),r("div",Vo,[h(a)])]),e.dropdownOpen?$("",!0):(d(),p("ul",Bo,[(d(!0),p(O,null,R(e.configurations,c=>(d(),p("li",{key:c.name,onClick:g=>{e.selectedTab=c.name,e.dropdownOpen=!e.dropdownOpen},class:ae(["dropdown py-1",{hidden:c.name===e.selectedTab}])},y(c.name),11,Ao))),128))]))]),Do,r("div",Ho,[h(Ve,{name:e.transitionName,mode:"out-in"},{default:x(()=>[(d(),p("div",{key:e.selectedTab,class:"relative h-33 mt-6 p-4 mr-1 rounded-lg bg-gray-100 dark:bg-gray-800"},[(d(!0),p(O,null,R(e.configurations,c=>(d(),p(O,{key:c.name},[c.name===e.selectedTab?(d(),M(u,{key:0,class:"card-editor font-mono absolute text-sm",modelValue:c.snippet,"onUpdate:modelValue":g=>c.snippet=g,highlight:c.highlighter,readonly:"","line-numbers":""},null,8,["modelValue","onUpdate:modelValue","highlight"])):$("",!0)],64))),128))]))]),_:1},8,["name"])])])}var zo=v(Mo,[["render",No]]);const Uo={props:{file:{type:Object,required:!0}},setup(o){return{file:o.file,prettyBytes:Be}}},Wo={class:"flex flex-row justify-between mb-1.5 py-3 rounded-full bg-white dark:bg-gray-900 lg:max-w-2/5 xl:max-w-1/2 cursor-pointer"},Go={class:"flex flex-row"},Ko={key:0,class:"text-xm px-6 pt-1.75"},Fo={key:1,class:"text-xm px-6 pt-1.75"},Qo={class:"font-semibold"},Yo={key:0,class:"px-6"};function Zo(o,t,i,e,s,l){return d(),p("div",Wo,[r("div",Go,[e.file.type=="DIRECTORY"?(d(),p("div",Ko,"\u26AB")):(d(),p("div",Fo,"\u26AA")),r("div",Qo,y(e.file.name),1)]),e.file.contentLength?(d(),p("div",Yo,y(e.prettyBytes(e.file.contentLength)),1)):$("",!0)])}var Jo=v(Uo,[["render",Zo]]);const Xo={components:{Card:zo,Entry:Jo},props:{qualifier:{type:Object,required:!0},token:{type:Object,required:!0}},setup(o){const t=o.qualifier,i=o.token,e=f(""),s=f([]),l=f(!1),n=f(void 0),a=_=>_.type=="DIRECTORY",u=_e(),c=_=>(_.endsWith("/")?_.slice(0,-1):_).split("/").slice(0,-1).join("/")||"/";U(()=>t.watchable,async _=>{const{client:C}=Z(i.name,i.secret);C.maven.details(t.path).then(b=>{s.value=b.data.files,l.value=s.value.length==0,n.value=void 0}).catch(b=>{console.log(b),L(`${b.response.status}: ${b.response.data.message}`,{type:"danger"}),n.value=b}),e.value=c(`/${t.path}`)},{immediate:!0});const g=B(()=>{const _=u.path.split("/");return _.map((C,b)=>({link:_.slice(0,b+1).join("/")||"/",name:b===_.length-1?C:C+"/"}))});return{qualifier:t,token:i,parentPath:e,files:s,isEmpty:l,isErrored:n,isDirectory:a,createURL:K,breadcrumbs:g}}},en={class:"bg-gray-100"},tn={class:"bg-gray-100 dark:bg-black"},on={class:"container mx-auto"},nn={class:"pt-7 pb-3 pl-2 font-semibold"},sn=r("span",{class:"select-none"},"Index of ",-1),an={class:"select-text"},rn=r("span",{class:"font-normal text-xl text-gray-500 select-none"}," \u2934 ",-1),ln={class:"dark:bg-black"},cn={class:"container mx-auto relative min-h-320px mb-1.5"},dn={class:"lg:absolute pt-5 -top-5 right-8"},un={class:"pt-4"},pn=["href"],_n={key:0},mn=r("p",null,"Directory is empty",-1),hn=[mn],gn={key:1},fn=r("p",null,"Directory not found",-1),vn=[fn];function bn(o,t,i,e,s,l){const n=m("router-link"),a=m("Card"),u=m("Entry");return d(),p("div",en,[r("div",tn,[r("div",on,[r("p",nn,[sn,r("span",an,[(d(!0),p(O,null,R(e.breadcrumbs,c=>(d(),M(n,{key:c.link,to:c.link},{default:x(()=>[P(y(c.name),1)]),_:2},1032,["to"]))),128))]),h(n,{to:e.parentPath},{default:x(()=>[rn]),_:1},8,["to"])])])]),r("div",ln,[r("div",cn,[r("div",dn,[h(a,{qualifier:e.qualifier,token:e.token},null,8,["qualifier","token"])]),r("div",un,[(d(!0),p(O,null,R(e.files,c=>(d(),p("div",{key:c},[e.isDirectory(c)?(d(),M(n,{key:0,to:o.append(o.$route.path,c.name)},{default:x(()=>[h(u,{file:c},null,8,["file"])]),_:2},1032,["to"])):(d(),p("a",{key:1,href:e.createURL(o.$route.path+"/"+c.name),target:"_blank"},[h(u,{file:c},null,8,["file"])],8,pn))]))),128)),e.isEmpty?(d(),p("div",_n,hn)):$("",!0),e.isErrored?(d(),p("div",gn,vn)):$("",!0)])])])])}var kn=v(Xo,[["render",bn]]);const xn={},yn={class:"container mx-auto pt-10 px-15"},wn=r("i",null,"Endpoints :: soon\u2122",-1),$n=[wn];function In(o,t){return d(),p("div",yn,$n)}var Cn=v(xn,[["render",In]]);const Tn={components:{PrismEditor:fe},props:{token:{type:Object,required:!0}},setup(o){const t=o.token,{client:i}=Z(t.name,t.secret),e=u=>G.highlight(u,G.languages.js),s="configuration.shared.cdn",l=f(),n=()=>i.settings.content(s).then(u=>l.value=u.data.content).catch(u=>L(u,{type:"error"})),a=()=>i.settings.updateContent(s,l.value).then(u=>{L("Configuration has been deployed, fetching...",{type:"info"}),n().then(c=>L("Configuration reloaded, refresh page to see changes",{type:"success"}))}).catch(u=>L(u,{type:"error"}));return n(),{configuration:l,fetchConfiguration:n,updateConfiguration:a,highlighter:e}}},Sn={class:"container mx-auto py-10 px-15"},Ln={class:"flex justify-between pb-5 flex-col xl:flex-row"},Mn=r("div",null,[r("p",null,"Modify configuration shared between all instances."),r("p",null,[r("strong",null,"Remember"),P(": Configuration propagation can take up to 30 seconds on all instances")])],-1),En={id:"configuration-state",class:"flex flex-row pt-3 xl:pt-2"},On=r("p",null,"Reset changes",-1),jn=[On],qn=r("p",null,"Update and reload",-1),Pn=[qn],Rn={class:"border-1 rounded p-4 dark:border-gray-700"};function Vn(o,t,i,e,s,l){const n=m("prism-editor");return d(),p("div",Sn,[r("div",Ln,[Mn,r("div",En,[r("button",{onClick:t[0]||(t[0]=(...a)=>e.fetchConfiguration&&e.fetchConfiguration(...a))},jn),r("button",{onClick:t[1]||(t[1]=(...a)=>e.updateConfiguration&&e.updateConfiguration(...a))},Pn)])]),r("div",Rn,[h(n,{class:"configuration-editor font-mono text-xs",modelValue:e.configuration,"onUpdate:modelValue":t[2]||(t[2]=a=>e.configuration=a),highlight:e.highlighter,"line-numbers":""},null,8,["modelValue","highlight"])])])}var Bn=v(Tn,[["render",Vn]]);const $e=["Other","Trace","Debug","Info","Warn","Error"],le=V({}),Ie=f(""),An=f(0),te=V([]),Dn=new Ae,Hn=o=>{var t;return(t=$e.find(i=>o.includes(`${i.toUpperCase()} | `)))!=null?t:"Other"},Ce=o=>Dn.toHtml(o.replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll(" ","&nbsp;"));function Nn(){$e.forEach(e=>{le[e]={name:e,enabled:!0,count:B(()=>te.reduce((s,l)=>s+(l.level===e),0))}});const o=B(()=>te.filter(e=>e.message.toLowerCase().includes(Ie.value.toLowerCase())).filter(e=>le[e.level].enabled));return{levels:le,log:o,filter:Ie,sanitizeMessage:Ce,logMessage:e=>{te.push({id:An.value++,message:Ce(e),level:Hn(e)})},clearLog:()=>{te.length=0}}}const I=f(),ce=f("");function zn(){const o=K("/api/console/sock").replace("https","wss").replace("http","ws"),t=()=>{var c;return((c=I.value)==null?void 0:c.readyState)===WebSocket.OPEN},i=()=>{t()&&I.value.close()},e=()=>{I.value.send(ce.value),ce.value=""},s=f(),l=f(),n=f(),a=f();return{connection:I,connect:c=>{try{I.value=new WebSocket(o),I.value.onopen=()=>{I.value.send(`Authorization:${c.name}:${c.secret}`),s==null||s.value()},I.value.onmessage=_=>{_.data!="keep-alive"&&(l==null||l.value(_.data))},I.value.onerror=_=>n==null?void 0:n.value(_),I.value.onclose=()=>a==null?void 0:a.value();const g=setInterval(()=>{var _;t()?(_=I==null?void 0:I.value)==null||_.send("keep-alive"):clearInterval(g)},1e3*5)}catch(g){console.log(g),n==null||n.value(g)}},close:i,onOpen:s,onMessage:l,onError:n,onClose:a,command:ce,execute:e}}const Un={props:{selectedTab:{type:Object,required:!0}},setup(o){const t=o.selectedTab,{levels:i,log:e,logMessage:s,filter:l,clearLog:n}=Nn(),{onOpen:a,onMessage:u,onClose:c,onError:g,connect:_,close:C,command:b,execute:q}=zn();De(()=>C());const T=()=>{const E=document.getElementById("console");E.scrollTop=E.scrollHeight},A=()=>{L("Connecting to the remote console",{type:"info"});const{token:E}=F();a.value=()=>n(),u.value=D=>{s(D),ve(()=>T())},g.value=D=>L(`${D||""}`,{type:"danger"}),c.value=()=>L("Connection with console has been lost",{type:"danger"}),_(E),ve(()=>setTimeout(()=>document.getElementById("consoleInput").focus(),1e3))};return U(()=>t.value,E=>E==="Console"?A():C(),{immediate:!0}),{log:e,command:b,execute:q,levels:i,filter:l}}},Wn={class:"container mx-auto pt-10 px-15 pb-10 text-xs"},Gn={class:"flex text-sm flex-col xl:flex-row w-full py-2 justify-between"},Kn={class:"flex flex-row justify-around w-full xl:w-1/2 <md:flex-wrap"},Fn=["checked","onChange"],Qn={class:"pl-2 pr-4"},Yn={class:"bg-white dark:bg-gray-900 rounded-lg"},Zn={id:"console",class:"overflow-scroll h-144 px-4 whitespace-pre-wrap font-mono text-xs"},Jn=["innerHTML"],Xn=r("hr",{class:"dark:border-dark-300"},null,-1);function es(o,t,i,e,s,l){return d(),p("div",Wn,[r("div",Gn,[Q(r("input",{placeholder:"Filter","onUpdate:modelValue":t[0]||(t[0]=n=>e.filter=n),class:"w-full xl:w-1/2 mr-5 py-1 px-4 rounded-lg bg-white dark:bg-gray-900"},null,512),[[Y,e.filter]]),r("div",Kn,[(d(!0),p(O,null,R(e.levels,n=>(d(),p("div",{key:n.name,class:"pt-1.9 xl:pt-0.8 font-sans whitespace-nowrap"},[r("input",{type:"checkbox",checked:n.enabled,onChange:a=>n.enabled=!n.enabled},null,40,Fn),r("span",Qn,y(n.name)+" ("+y(n.count)+")",1)]))),128))])]),r("div",Yn,[r("div",Zn,[(d(!0),p(O,null,R(e.log,n=>(d(),p("p",{key:n.id,innerHTML:n.message,class:"whitespace-nowrap"},null,8,Jn))),128))]),Xn,Q(r("input",{id:"consoleInput",placeholder:"Type command or '?' to get help",class:"w-full py-2 px-4 rounded-b-lg bg-white dark:bg-gray-900 dark:text-white","onUpdate:modelValue":t[1]||(t[1]=n=>e.command=n),onKeyup:t[2]||(t[2]=He(n=>e.execute(),["enter"]))},null,544),[[Y,e.command]])])])}var ts=v(Un,[["render",es]]);const os={components:{Header:_o,Browser:kn,Endpoints:Cn,Console:ts,Configuration:Bn},props:{qualifier:{type:Object,required:!0},token:{type:Object,required:!0},session:{type:Object,required:!0}},setup(o){const t=o.qualifier,i=o.token,e=o.session,{hasManagerPermission:s}=F(),l=B(()=>s(e.details)),n=[{name:"Overview"},{name:"Endpoints"},{name:"Console",manager:!0},{name:"Configuration",manager:!0}],a=V({value:localStorage.getItem("selectedTab")||"Overview"});W(()=>localStorage.setItem("selectedTab",a.value));const u=B(()=>n.filter(c=>!(c==null?void 0:c.manager)||s(e.details)).map(c=>c.name));return{qualifier:t,token:i,menuTabs:u,isManager:l,selectedTab:a}}},ns=o=>(he("data-v-61fdc40b"),o=o(),ge(),o),ss={class:"bg-gray-100 dark:bg-black"},as={class:"container mx-auto <sm:px-0"},rs=ns(()=>r("hr",{class:"dark:border-gray-700"},null,-1)),is={class:"overflow-auto"};function ls(o,t,i,e,s,l){const n=m("Header"),a=m("tab"),u=m("tabs"),c=m("Browser"),g=m("tab-panel"),_=m("Endpoints"),C=m("Console"),b=m("Configuration"),q=m("tab-panels");return d(),p("div",null,[h(n,{token:e.token},null,8,["token"]),r("div",ss,[r("div",as,[h(u,{modelValue:e.selectedTab.value,"onUpdate:modelValue":t[0]||(t[0]=T=>e.selectedTab.value=T)},{default:x(()=>[(d(!0),p(O,null,R(e.menuTabs,(T,A)=>(d(),M(a,{class:"item font-normal",key:`menu${A}`,val:T,label:T,indicator:!0},null,8,["val","label"]))),128))]),_:1},8,["modelValue"])]),rs,r("div",is,[h(q,{modelValue:e.selectedTab.value,"onUpdate:modelValue":t[1]||(t[1]=T=>e.selectedTab.value=T),animate:!0},{default:x(()=>[h(g,{val:"Overview"},{default:x(()=>[h(c,{qualifier:e.qualifier,token:e.token,ref:""},null,8,["qualifier","token"])]),_:1}),h(g,{val:"Endpoints"},{default:x(()=>[h(_)]),_:1}),e.isManager?(d(),M(g,{key:0,val:"Console"},{default:x(()=>[h(C,{selectedTab:e.selectedTab},null,8,["selectedTab"])]),_:1})):$("",!0),e.isManager?(d(),M(g,{key:1,val:"Configuration"},{default:x(()=>[h(b,{selectedTab:e.selectedTab,token:e.token},null,8,["selectedTab","token"])]),_:1})):$("",!0)]),_:1},8,["modelValue"])])])])}var cs=v(os,[["render",ls],["__scopeId","data-v-61fdc40b"]]);const ds=Ne({history:ze(),routes:[{path:"/:qualifier(.*)",name:"Index",component:cs}]});const de=Ue(st);de.config.globalProperties.append=(o,t)=>o+(o.endsWith("/")?"":"/")+t;de.config.globalProperties.drop=o=>(o.endsWith("/")?o.slice(0,-1):o).split("/").slice(0,-1).join("/");de.use(We()).use(Ge,se).use(Ke).use(ds).mount("#app");
